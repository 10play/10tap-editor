/* eslint-disable */
export const editorHtml = String.raw`
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RichTextEditor</title>
    <script type="module" crossorigin>
var zy=Object.defineProperty;var by=(t,e,n)=>e in t?zy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zc=(t,e,n)=>(by(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nh={exports:{}},Hs={},Th={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Fy=Symbol.for("react.portal"),Ly=Symbol.for("react.fragment"),By=Symbol.for("react.strict_mode"),\$y=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),_y=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Uy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),ef=Symbol.iterator;function Hy(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var Oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dh=Object.assign,Rh={};function Hr(t,e,n){this.props=t,this.context=e,this.refs=Rh,this.updater=n||Oh}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ph(){}Ph.prototype=Hr.prototype;function Bu(t,e,n){this.props=t,this.context=e,this.refs=Rh,this.updater=n||Oh}var \$u=Bu.prototype=new Ph;\$u.constructor=Bu;Dh(\$u,Hr.prototype);\$u.isPureReactComponent=!0;var tf=Array.isArray,Ih=Object.prototype.hasOwnProperty,Vu={current:null},Ah={key:!0,ref:!0,__self:!0,__source:!0};function zh(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Ih.call(e,r)&&!Ah.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{\$\$typeof:lo,type:t,key:o,ref:s,props:i,_owner:Vu.current}}function Ky(t,e){return{\$\$typeof:lo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _u(t){return typeof t=="object"&&t!==null&&t.\$\$typeof===lo}function qy(t){var e={"=":"=0",":":"=2"};return"\$"+t.replace(/[=:]/g,function(n){return e[n]})}var nf=/\/+/g;function Cl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qy(""+t.key):e.toString(36)}function _o(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.\$\$typeof){case lo:case Fy:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Cl(s,0):r,tf(i)?(n="",t!=null&&(n=t.replace(nf,"\$&/")+"/"),_o(i,e,n,"",function(u){return u})):i!=null&&(_u(i)&&(i=Ky(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nf,"\$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",tf(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Cl(o,l);s+=_o(o,e,n,a,i)}else if(a=Hy(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Cl(o,l++),s+=_o(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ko(t,e,n){if(t==null)return t;var r=[],i=0;return _o(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Qy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},jo={transition:null},Gy={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:jo,ReactCurrentOwner:Vu};L.Children={map:ko,forEach:function(t,e,n){ko(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ko(t,function(){e++}),e},toArray:function(t){return ko(t,function(e){return e})||[]},only:function(t){if(!_u(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Hr;L.Fragment=Ly;L.Profiler=\$y;L.PureComponent=Bu;L.StrictMode=By;L.Suspense=Wy;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dh({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Vu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Ih.call(e,a)&&!Ah.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{\$\$typeof:lo,type:t.type,key:i,ref:o,props:r,_owner:s}};L.createContext=function(t){return t={\$\$typeof:_y,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={\$\$typeof:Vy,_context:t},t.Consumer=t};L.createElement=zh;L.createFactory=function(t){var e=zh.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{\$\$typeof:jy,render:t}};L.isValidElement=_u;L.lazy=function(t){return{\$\$typeof:Jy,_payload:{_status:-1,_result:t},_init:Qy}};L.memo=function(t,e){return{\$\$typeof:Uy,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=jo.transition;jo.transition={};try{t()}finally{jo.transition=e}};L.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};L.useCallback=function(t,e){return be.current.useCallback(t,e)};L.useContext=function(t){return be.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return be.current.useDeferredValue(t)};L.useEffect=function(t,e){return be.current.useEffect(t,e)};L.useId=function(){return be.current.useId()};L.useImperativeHandle=function(t,e,n){return be.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return be.current.useMemo(t,e)};L.useReducer=function(t,e,n){return be.current.useReducer(t,e,n)};L.useRef=function(t){return be.current.useRef(t)};L.useState=function(t){return be.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return be.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return be.current.useTransition()};L.version="18.2.0";Th.exports=L;var Q=Th.exports;const W=Lu(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=Q,Xy=Symbol.for("react.element"),Zy=Symbol.for("react.fragment"),e0=Object.prototype.hasOwnProperty,t0=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n0={key:!0,ref:!0,__self:!0,__source:!0};function bh(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)e0.call(e,r)&&!n0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{\$\$typeof:Xy,type:t,key:o,ref:s,props:i,_owner:t0.current}}Hs.Fragment=Zy;Hs.jsx=bh;Hs.jsxs=bh;Nh.exports=Hs;var Fh=Nh.exports,Lh={exports:{}},Qe={},Bh={exports:{}},\$h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var b=O.length;O.push(z);e:for(;0<b;){var te=b-1>>>1,ae=O[te];if(0<i(ae,z))O[te]=z,O[b]=ae,b=te;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],b=O.pop();if(b!==z){O[0]=b;e:for(var te=0,ae=O.length,go=ae>>>1;te<go;){var Cn=2*(te+1)-1,xl=O[Cn],En=Cn+1,yo=O[En];if(0>i(xl,b))En<ae&&0>i(yo,xl)?(O[te]=yo,O[En]=b,te=En):(O[te]=xl,O[Cn]=b,te=Cn);else if(En<ae&&0>i(yo,b))O[te]=yo,O[En]=b,te=En;else break e}}return z}function i(O,z){var b=O.sortIndex-z.sortIndex;return b!==0?b:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,p=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,e(a,z);else break;z=n(u)}}function v(O){if(y=!1,S(O),!p)if(n(a)!==null)p=!0,vl(x);else{var z=n(u);z!==null&&wl(v,z.startTime-O)}}function x(O,z){p=!1,y&&(y=!1,m(N),N=-1),h=!0;var b=d;try{for(S(z),f=n(a);f!==null&&(!(f.expirationTime>z)||O&&!Se());){var te=f.callback;if(typeof te=="function"){f.callback=null,d=f.priorityLevel;var ae=te(f.expirationTime<=z);z=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(a)&&r(a),S(z)}else r(a);f=n(a)}if(f!==null)var go=!0;else{var Cn=n(u);Cn!==null&&wl(v,Cn.startTime-z),go=!1}return go}finally{f=null,d=b,h=!1}}var w=!1,E=null,N=-1,P=5,I=-1;function Se(){return!(t.unstable_now()-I<P)}function xn(){if(E!==null){var O=t.unstable_now();I=O;var z=!0;try{z=E(!0,O)}finally{z?Yr():(w=!1,E=null)}}else w=!1}var Yr;if(typeof g=="function")Yr=function(){g(xn)};else if(typeof MessageChannel<"u"){var Xc=new MessageChannel,Ay=Xc.port2;Xc.port1.onmessage=xn,Yr=function(){Ay.postMessage(null)}}else Yr=function(){k(xn,0)};function vl(O){E=O,w||(w=!0,Yr())}function wl(O,z){N=k(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,vl(x))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var b=d;d=z;try{return O()}finally{d=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var b=d;d=O;try{return z()}finally{d=b}},t.unstable_scheduleCallback=function(O,z,b){var te=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?te+b:te):b=te,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=b+ae,O={id:c++,callback:z,priorityLevel:O,startTime:b,expirationTime:ae,sortIndex:-1},b>te?(O.sortIndex=b,e(u,O),n(a)===null&&O===n(u)&&(y?(m(N),N=-1):y=!0,wl(v,b-te))):(O.sortIndex=ae,e(a,O),p||h||(p=!0,vl(x))),O},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(O){var z=d;return function(){var b=d;d=z;try{return O.apply(this,arguments)}finally{d=b}}}})(\$h);Bh.exports=\$h;var r0=Bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=Q,qe=r0;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _h=new Set,Fi={};function tr(t,e){br(t,e),br(t+"Capture",e)}function br(t,e){for(Fi[t]=e,t=0;t<e.length;t++)_h.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,i0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*\$/,rf={},of={};function o0(t){return xa.call(of,t)?!0:xa.call(rf,t)?!1:i0.test(t)?of[t]=!0:(rf[t]=!0,!1)}function s0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l0(t,e,n,r){if(e===null||typeof e>"u"||s0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fe(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Fe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Fe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Fe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Fe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Fe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Fe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Fe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Fe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Fe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Wu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ju,Wu);ye[e]=new Fe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ju,Wu);ye[e]=new Fe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ju,Wu);ye[e]=new Fe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Fe(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Fe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uu(t,e,n,r){var i=ye.hasOwnProperty(e)?ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l0(e,n,i,r)&&(n=null),r||i===null?o0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wt=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vo=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),jh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Ma=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Uh=Symbol.for("react.offscreen"),sf=Symbol.iterator;function Xr(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,El;function ai(t){if(El===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);El=e&&e[1]||""}return\`
\`+El+t}var Ml=!1;function Nl(t,e){if(!t||Ml)return"";Ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(\`
\`),o=r.stack.split(\`
\`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=\`
\`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ml=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ai(t):""}function a0(t){switch(t.tag){case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return t=Nl(t.type,!1),t;case 11:return t=Nl(t.type.render,!1),t;case 1:return t=Nl(t.type,!0),t;default:return""}}function Na(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case dr:return"Portal";case Ca:return"Profiler";case Ju:return"StrictMode";case Ea:return"Suspense";case Ma:return"SuspenseList"}if(typeof t=="object")switch(t.\$\$typeof){case Wh:return(t.displayName||"Context")+".Consumer";case jh:return(t._context.displayName||"Context")+".Provider";case Hu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ku:return e=t.displayName||null,e!==null?e:Na(t.type)||"Memo";case Kt:e=t._payload,t=t._init;try{return Na(t(e))}catch{}}return null}function u0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Na(e);case 8:return e===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c0(t){var e=Jh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wo(t){t._valueTracker||(t._valueTracker=c0(t))}function Hh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ta(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kh(t,e){e=e.checked,e!=null&&Uu(t,"checked",e,!1)}function Oa(t,e){Kh(t,e);var n=pn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Da(t,e.type,n):e.hasOwnProperty("defaultValue")&&Da(t,e.type,pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Da(t,e,n){(e!=="number"||ss(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ui=Array.isArray;function Nr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["\$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("\$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ra(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(ui(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pn(n)}}function qh(t,e){var n=pn(e.value),r=pn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xo,Gh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xo=xo||document.createElement("div"),xo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Li(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f0=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){f0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wi[e]=wi[t]})});function Yh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wi.hasOwnProperty(t)&&wi[t]?(""+e).trim():e+"px"}function Xh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var d0=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(t,e){if(e){if(d0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Aa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,Tr=null,Or=null;function ff(t){if(t=co(t)){if(typeof ba!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Ys(e),ba(t.stateNode,t.type,e))}}function Zh(t){Tr?Or?Or.push(t):Or=[t]:Tr=t}function ep(){if(Tr){var t=Tr,e=Or;if(Or=Tr=null,ff(t),e)for(t=0;t<e.length;t++)ff(e[t])}}function tp(t,e){return t(e)}function np(){}var Tl=!1;function rp(t,e,n){if(Tl)return t(e,n);Tl=!0;try{return tp(t,e,n)}finally{Tl=!1,(Tr!==null||Or!==null)&&(np(),ep())}}function Bi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ys(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Fa=!1;if(Bt)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Fa=!1}function h0(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xi=!1,ls=null,as=!1,La=null,p0={onError:function(t){xi=!0,ls=t}};function m0(t,e,n,r,i,o,s,l,a){xi=!1,ls=null,h0.apply(p0,arguments)}function g0(t,e,n,r,i,o,s,l,a){if(m0.apply(this,arguments),xi){if(xi){var u=ls;xi=!1,ls=null}else throw Error(C(198));as||(as=!0,La=u)}}function nr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ip(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(nr(t)!==t)throw Error(C(188))}function y0(t){var e=t.alternate;if(!e){if(e=nr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return df(i),t;if(o===r)return df(i),e;o=o.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function op(t){return t=y0(t),t!==null?sp(t):null}function sp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sp(t);if(e!==null)return e;t=t.sibling}return null}var lp=qe.unstable_scheduleCallback,hf=qe.unstable_cancelCallback,S0=qe.unstable_shouldYield,k0=qe.unstable_requestPaint,re=qe.unstable_now,v0=qe.unstable_getCurrentPriorityLevel,Qu=qe.unstable_ImmediatePriority,ap=qe.unstable_UserBlockingPriority,us=qe.unstable_NormalPriority,w0=qe.unstable_LowPriority,up=qe.unstable_IdlePriority,Ks=null,Ct=null;function x0(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:M0,C0=Math.log,E0=Math.LN2;function M0(t){return t>>>=0,t===0?32:31-(C0(t)/E0|0)|0}var Co=64,Eo=4194304;function ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ci(l):(o&=s,o!==0&&(r=ci(o)))}else s=n&~i,s!==0?r=ci(s):o!==0&&(r=ci(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dt(e),i=1<<n,r|=t[n],e&=~i;return r}function N0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=N0(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Ba(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cp(){var t=Co;return Co<<=1,!(Co&4194240)&&(Co=64),t}function Ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ao(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dt(e),t[e]=n}function O0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _=0;function fp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dp,Yu,hp,pp,mp,\$a=!1,Mo=[],nn=null,rn=null,on=null,\$i=new Map,Vi=new Map,Gt=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(t,e){switch(t){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":\$i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(e.pointerId)}}function ei(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=co(e),e!==null&&Yu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function R0(t,e,n,r,i){switch(e){case"focusin":return nn=ei(nn,t,e,n,r,i),!0;case"dragenter":return rn=ei(rn,t,e,n,r,i),!0;case"mouseover":return on=ei(on,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return \$i.set(o,ei(\$i.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vi.set(o,ei(Vi.get(o)||null,t,e,n,r,i)),!0}return!1}function gp(t){var e=Dn(t.target);if(e!==null){var n=nr(e);if(n!==null){if(e=n.tag,e===13){if(e=ip(n),e!==null){t.blockedOn=e,mp(t.priority,function(){hp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Va(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);za=r,n.target.dispatchEvent(r),za=null}else return e=co(n),e!==null&&Yu(e),t.blockedOn=n,!1;e.shift()}return!0}function mf(t,e,n){Wo(t)&&n.delete(e)}function P0(){\$a=!1,nn!==null&&Wo(nn)&&(nn=null),rn!==null&&Wo(rn)&&(rn=null),on!==null&&Wo(on)&&(on=null),\$i.forEach(mf),Vi.forEach(mf)}function ti(t,e){t.blockedOn===e&&(t.blockedOn=null,\$a||(\$a=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,P0)))}function _i(t){function e(i){return ti(i,t)}if(0<Mo.length){ti(Mo[0],t);for(var n=1;n<Mo.length;n++){var r=Mo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nn!==null&&ti(nn,t),rn!==null&&ti(rn,t),on!==null&&ti(on,t),\$i.forEach(e),Vi.forEach(e),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)gp(n),n.blockedOn===null&&Gt.shift()}var Dr=Wt.ReactCurrentBatchConfig,fs=!0;function I0(t,e,n,r){var i=_,o=Dr.transition;Dr.transition=null;try{_=1,Xu(t,e,n,r)}finally{_=i,Dr.transition=o}}function A0(t,e,n,r){var i=_,o=Dr.transition;Dr.transition=null;try{_=4,Xu(t,e,n,r)}finally{_=i,Dr.transition=o}}function Xu(t,e,n,r){if(fs){var i=Va(t,e,n,r);if(i===null)Bl(t,e,r,ds,n),pf(t,r);else if(R0(i,t,e,n,r))r.stopPropagation();else if(pf(t,r),e&4&&-1<D0.indexOf(t)){for(;i!==null;){var o=co(i);if(o!==null&&dp(o),o=Va(t,e,n,r),o===null&&Bl(t,e,r,ds,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Bl(t,e,r,null,n)}}var ds=null;function Va(t,e,n,r){if(ds=null,t=qu(r),t=Dn(t),t!==null)if(e=nr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ip(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ds=t,null}function yp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v0()){case Qu:return 1;case ap:return 4;case us:case w0:return 16;case up:return 536870912;default:return 16}default:return 16}}var Zt=null,Zu=null,Uo=null;function Sp(){if(Uo)return Uo;var t,e=Zu,n=e.length,r,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Uo=i.slice(t,1<r?1-r:void 0)}function Jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function No(){return!0}function gf(){return!1}function Ge(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?No:gf,this.isPropagationStopped=gf,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),e}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=Ge(Kr),uo=Z({},Kr,{view:0,detail:0}),z0=Ge(uo),Dl,Rl,ni,qs=Z({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(Dl=t.screenX-ni.screenX,Rl=t.screenY-ni.screenY):Rl=Dl=0,ni=t),Dl)},movementY:function(t){return"movementY"in t?t.movementY:Rl}}),yf=Ge(qs),b0=Z({},qs,{dataTransfer:0}),F0=Ge(b0),L0=Z({},uo,{relatedTarget:0}),Pl=Ge(L0),B0=Z({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),\$0=Ge(B0),V0=Z({},Kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_0=Ge(V0),j0=Z({},Kr,{data:0}),Sf=Ge(j0),W0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J0[t])?!!e[t]:!1}function tc(){return H0}var K0=Z({},uo,{key:function(t){if(t.key){var e=W0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?U0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(t){return t.type==="keypress"?Jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q0=Ge(K0),Q0=Z({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=Ge(Q0),G0=Z({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Y0=Ge(G0),X0=Z({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=Ge(X0),e1=Z({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),t1=Ge(e1),n1=[9,13,27,32],nc=Bt&&"CompositionEvent"in window,Ci=null;Bt&&"documentMode"in document&&(Ci=document.documentMode);var r1=Bt&&"TextEvent"in window&&!Ci,kp=Bt&&(!nc||Ci&&8<Ci&&11>=Ci),vf=" ",wf=!1;function vp(t,e){switch(t){case"keyup":return n1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pr=!1;function i1(t,e){switch(t){case"compositionend":return wp(e);case"keypress":return e.which!==32?null:(wf=!0,vf);case"textInput":return t=e.data,t===vf&&wf?null:t;default:return null}}function o1(t,e){if(pr)return t==="compositionend"||!nc&&vp(t,e)?(t=Sp(),Uo=Zu=Zt=null,pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kp&&e.locale!=="ko"?null:e.data;default:return null}}var s1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s1[t.type]:e==="textarea"}function xp(t,e,n,r){Zh(r),e=hs(e,"onChange"),0<e.length&&(n=new ec("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ei=null,ji=null;function l1(t){Ap(t,0)}function Qs(t){var e=yr(t);if(Hh(e))return t}function a1(t,e){if(t==="change")return e}var Cp=!1;if(Bt){var Il;if(Bt){var Al="oninput"in document;if(!Al){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),Al=typeof Cf.oninput=="function"}Il=Al}else Il=!1;Cp=Il&&(!document.documentMode||9<document.documentMode)}function Ef(){Ei&&(Ei.detachEvent("onpropertychange",Ep),ji=Ei=null)}function Ep(t){if(t.propertyName==="value"&&Qs(ji)){var e=[];xp(e,ji,t,qu(t)),rp(l1,e)}}function u1(t,e,n){t==="focusin"?(Ef(),Ei=e,ji=n,Ei.attachEvent("onpropertychange",Ep)):t==="focusout"&&Ef()}function c1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qs(ji)}function f1(t,e){if(t==="click")return Qs(e)}function d1(t,e){if(t==="input"||t==="change")return Qs(e)}function h1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pt=typeof Object.is=="function"?Object.is:h1;function Wi(t,e){if(pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xa.call(e,i)||!pt(t[i],e[i]))return!1}return!0}function Mf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,e){var n=Mf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mf(n)}}function Mp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Np(){for(var t=window,e=ss();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ss(t.document)}return e}function rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p1(t){var e=Np(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mp(n.ownerDocument.documentElement,n)){if(r!==null&&rc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Nf(n,o);var s=Nf(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m1=Bt&&"documentMode"in document&&11>=document.documentMode,mr=null,_a=null,Mi=null,ja=!1;function Tf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ja||mr==null||mr!==ss(r)||(r=mr,"selectionStart"in r&&rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&Wi(Mi,r)||(Mi=r,r=hs(_a,"onSelect"),0<r.length&&(e=new ec("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function To(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gr={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionend:To("Transition","TransitionEnd")},zl={},Tp={};Bt&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Gs(t){if(zl[t])return zl[t];if(!gr[t])return t;var e=gr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tp)return zl[t]=e[n];return t}var Op=Gs("animationend"),Dp=Gs("animationiteration"),Rp=Gs("animationstart"),Pp=Gs("transitionend"),Ip=new Map,Of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(t,e){Ip.set(t,e),tr(e,[t])}for(var bl=0;bl<Of.length;bl++){var Fl=Of[bl],g1=Fl.toLowerCase(),y1=Fl[0].toUpperCase()+Fl.slice(1);yn(g1,"on"+y1)}yn(Op,"onAnimationEnd");yn(Dp,"onAnimationIteration");yn(Rp,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Pp,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S1=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function Df(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g0(r,e,void 0,t),t.currentTarget=null}function Ap(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Df(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Df(i,l,u),o=a}}}if(as)throw t=La,as=!1,La=null,t}function H(t,e){var n=e[Ka];n===void 0&&(n=e[Ka]=new Set);var r=t+"__bubble";n.has(r)||(zp(e,t,2,!1),n.add(r))}function Ll(t,e,n){var r=0;e&&(r|=4),zp(n,t,r,e)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[Oo]){t[Oo]=!0,_h.forEach(function(n){n!=="selectionchange"&&(S1.has(n)||Ll(n,!1,t),Ll(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oo]||(e[Oo]=!0,Ll("selectionchange",!1,e))}}function zp(t,e,n,r){switch(yp(e)){case 1:var i=I0;break;case 4:i=A0;break;default:i=Xu}n=i.bind(null,e,n,t),i=void 0,!Fa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bl(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Dn(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}rp(function(){var u=o,c=qu(n),f=[];e:{var d=Ip.get(t);if(d!==void 0){var h=ec,p=t;switch(t){case"keypress":if(Jo(n)===0)break e;case"keydown":case"keyup":h=q0;break;case"focusin":p="focus",h=Pl;break;case"focusout":p="blur",h=Pl;break;case"beforeblur":case"afterblur":h=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=F0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Y0;break;case Op:case Dp:case Rp:h=\$0;break;case Pp:h=Z0;break;case"scroll":h=z0;break;case"wheel":h=t1;break;case"copy":case"cut":case"paste":h=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=kf}var y=(e&4)!==0,k=!y&&t==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,S;g!==null;){S=g;var v=S.stateNode;if(S.tag===5&&v!==null&&(S=v,m!==null&&(v=Bi(g,m),v!=null&&y.push(Ji(g,v,S)))),k)break;g=g.return}0<y.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==za&&(p=n.relatedTarget||n.fromElement)&&(Dn(p)||p[\$t]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Dn(p):null,p!==null&&(k=nr(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=yf,v="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=kf,v="onPointerLeave",m="onPointerEnter",g="pointer"),k=h==null?d:yr(h),S=p==null?d:yr(p),d=new y(v,g+"leave",h,n,c),d.target=k,d.relatedTarget=S,v=null,Dn(c)===u&&(y=new y(m,g+"enter",p,n,c),y.target=S,y.relatedTarget=k,v=y),k=v,h&&p)t:{for(y=h,m=p,g=0,S=y;S;S=ir(S))g++;for(S=0,v=m;v;v=ir(v))S++;for(;0<g-S;)y=ir(y),g--;for(;0<S-g;)m=ir(m),S--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=ir(y),m=ir(m)}y=null}else y=null;h!==null&&Rf(f,d,h,y,!1),p!==null&&k!==null&&Rf(f,k,p,y,!0)}}e:{if(d=u?yr(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=a1;else if(xf(d))if(Cp)x=d1;else{x=c1;var w=u1}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=f1);if(x&&(x=x(t,u))){xp(f,x,n,c);break e}w&&w(t,d,u),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&Da(d,"number",d.value)}switch(w=u?yr(u):window,t){case"focusin":(xf(w)||w.contentEditable==="true")&&(mr=w,_a=u,Mi=null);break;case"focusout":Mi=_a=mr=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,Tf(f,n,c);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":Tf(f,n,c)}var E;if(nc)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else pr?vp(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(kp&&n.locale!=="ko"&&(pr||N!=="onCompositionStart"?N==="onCompositionEnd"&&pr&&(E=Sp()):(Zt=c,Zu="value"in Zt?Zt.value:Zt.textContent,pr=!0)),w=hs(u,N),0<w.length&&(N=new Sf(N,t,null,n,c),f.push({event:N,listeners:w}),E?N.data=E:(E=wp(n),E!==null&&(N.data=E)))),(E=r1?i1(t,n):o1(t,n))&&(u=hs(u,"onBeforeInput"),0<u.length&&(c=new Sf("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}Ap(f,e)})}function Ji(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bi(t,n),o!=null&&r.unshift(Ji(t,o,i)),o=Bi(t,e),o!=null&&r.push(Ji(t,o,i))),t=t.return}return r}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Bi(n,o),a!=null&&s.unshift(Ji(n,a,l))):i||(a=Bi(n,o),a!=null&&s.push(Ji(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var k1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(k1,\`
\`).replace(v1,"")}function Do(t,e,n){if(e=Pf(e),Pf(t)!==e&&n)throw Error(C(425))}function ps(){}var Wa=null,Ua=null;function Ja(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ha=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(t){return If.resolve(null).then(t).catch(C1)}:Ha;function C1(t){setTimeout(function(){throw t})}function \$l(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/\$"){if(r===0){t.removeChild(i),_i(e);return}r--}else n!=="\$"&&n!=="\$?"&&n!=="\$!"||r++;n=i}while(n);_i(e)}function sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="\$"||e==="\$!"||e==="\$?")break;if(e==="/\$")return null}}return t}function Af(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="\$"||n==="\$!"||n==="\$?"){if(e===0)return t;e--}else n==="/\$"&&e++}t=t.previousSibling}return null}var qr=Math.random().toString(36).slice(2),kt="__reactFiber\$"+qr,Hi="__reactProps\$"+qr,\$t="__reactContainer\$"+qr,Ka="__reactEvents\$"+qr,E1="__reactListeners\$"+qr,M1="__reactHandles\$"+qr;function Dn(t){var e=t[kt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[\$t]||n[kt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Af(t);t!==null;){if(n=t[kt])return n;t=Af(t)}return e}t=n,n=t.parentNode}return null}function co(t){return t=t[kt]||t[\$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Ys(t){return t[Hi]||null}var qa=[],Sr=-1;function Sn(t){return{current:t}}function K(t){0>Sr||(t.current=qa[Sr],qa[Sr]=null,Sr--)}function U(t,e){Sr++,qa[Sr]=t.current,t.current=e}var mn={},Ee=Sn(mn),\$e=Sn(!1),Hn=mn;function Fr(t,e){var n=t.type.contextTypes;if(!n)return mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ve(t){return t=t.childContextTypes,t!=null}function ms(){K(\$e),K(Ee)}function zf(t,e,n){if(Ee.current!==mn)throw Error(C(168));U(Ee,e),U(\$e,n)}function bp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,u0(t)||"Unknown",i));return Z({},n,r)}function gs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,Hn=Ee.current,U(Ee,t),U(\$e,\$e.current),!0}function bf(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=bp(t,e,Hn),r.__reactInternalMemoizedMergedChildContext=t,K(\$e),K(Ee),U(Ee,t)):K(\$e),U(\$e,n)}var Pt=null,Xs=!1,Vl=!1;function Fp(t){Pt===null?Pt=[t]:Pt.push(t)}function N1(t){Xs=!0,Fp(t)}function kn(){if(!Vl&&Pt!==null){Vl=!0;var t=0,e=_;try{var n=Pt;for(_=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pt=null,Xs=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(t+1)),lp(Qu,kn),i}finally{_=e,Vl=!1}}return null}var kr=[],vr=0,ys=null,Ss=0,Xe=[],Ze=0,Kn=null,At=1,zt="";function Mn(t,e){kr[vr++]=Ss,kr[vr++]=ys,ys=t,Ss=e}function Lp(t,e,n){Xe[Ze++]=At,Xe[Ze++]=zt,Xe[Ze++]=Kn,Kn=t;var r=At;t=zt;var i=32-dt(r)-1;r&=~(1<<i),n+=1;var o=32-dt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,At=1<<32-dt(e)+i|n<<i|r,zt=o+t}else At=1<<o|n<<i|r,zt=t}function ic(t){t.return!==null&&(Mn(t,1),Lp(t,1,0))}function oc(t){for(;t===ys;)ys=kr[--vr],kr[vr]=null,Ss=kr[--vr],kr[vr]=null;for(;t===Kn;)Kn=Xe[--Ze],Xe[Ze]=null,zt=Xe[--Ze],Xe[Ze]=null,At=Xe[--Ze],Xe[Ze]=null}var Ke=null,He=null,G=!1,ut=null;function Bp(t,e){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ff(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ke=t,He=sn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ke=t,He=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:At,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ke=t,He=null,!0):!1;default:return!1}}function Qa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ga(t){if(G){var e=He;if(e){var n=e;if(!Ff(t,e)){if(Qa(t))throw Error(C(418));e=sn(n.nextSibling);var r=Ke;e&&Ff(t,e)?Bp(r,n):(t.flags=t.flags&-4097|2,G=!1,Ke=t)}}else{if(Qa(t))throw Error(C(418));t.flags=t.flags&-4097|2,G=!1,Ke=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ke=t}function Ro(t){if(t!==Ke)return!1;if(!G)return Lf(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ja(t.type,t.memoizedProps)),e&&(e=He)){if(Qa(t))throw \$p(),Error(C(418));for(;e;)Bp(t,e),e=sn(e.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/\$"){if(e===0){He=sn(t.nextSibling);break e}e--}else n!=="\$"&&n!=="\$!"&&n!=="\$?"||e++}t=t.nextSibling}He=null}}else He=Ke?sn(t.stateNode.nextSibling):null;return!0}function \$p(){for(var t=He;t;)t=sn(t.nextSibling)}function Lr(){He=Ke=null,G=!1}function sc(t){ut===null?ut=[t]:ut.push(t)}var T1=Wt.ReactCurrentBatchConfig;function lt(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ks=Sn(null),vs=null,wr=null,lc=null;function ac(){lc=wr=vs=null}function uc(t){var e=ks.current;K(ks),t._currentValue=e}function Ya(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rr(t,e){vs=t,lc=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Be=!0),t.firstContext=null)}function it(t){var e=t._currentValue;if(lc!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(vs===null)throw Error(C(308));wr=t,vs.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Rn=null;function cc(t){Rn===null?Rn=[t]:Rn.push(t)}function Vp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vt(t,r)}function Vt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qt=!1;function fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ln(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,\$&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vt(t,n)}return i=r.interleaved,i===null?(e.next=e,cc(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vt(t,n)}function Ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gu(t,n)}}function Bf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ws(t,e,n,r){var i=t.updateQueue;qt=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,h=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,y=l;switch(d=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Z({},f,d);break e;case 2:qt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Qn|=s,t.lanes=s,t.memoizedState=f}}function \$f(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var jp=new Vh.Component().refs;function Xa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zs={isMounted:function(t){return(t=t._reactInternals)?nr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pe(),i=un(t),o=bt(r,i);o.payload=e,n!=null&&(o.callback=n),e=ln(t,o,i),e!==null&&(ht(e,t,i,r),Ho(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pe(),i=un(t),o=bt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ln(t,o,i),e!==null&&(ht(e,t,i,r),Ho(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pe(),r=un(t),i=bt(n,r);i.tag=2,e!=null&&(i.callback=e),e=ln(t,i,r),e!==null&&(ht(e,t,r,n),Ho(e,t,r))}};function Vf(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Wi(n,r)||!Wi(i,o):!0}function Wp(t,e,n){var r=!1,i=mn,o=e.contextType;return typeof o=="object"&&o!==null?o=it(o):(i=Ve(e)?Hn:Ee.current,r=e.contextTypes,o=(r=r!=null)?Fr(t,i):mn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _f(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zs.enqueueReplaceState(e,e.state,null)}function Za(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jp,fc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=it(o):(o=Ve(e)?Hn:Ee.current,i.context=Fr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xa(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zs.enqueueReplaceState(i,i.state,null),ws(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ri(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===jp&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Po(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jf(t){var e=t._init;return e(t._payload)}function Up(t){function e(m,g){if(t){var S=m.deletions;S===null?(m.deletions=[g],m.flags|=16):S.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=cn(m,g),m.index=0,m.sibling=null,m}function o(m,g,S){return m.index=S,t?(S=m.alternate,S!==null?(S=S.index,S<g?(m.flags|=2,g):S):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,g,S,v){return g===null||g.tag!==6?(g=Kl(S,m.mode,v),g.return=m,g):(g=i(g,S),g.return=m,g)}function a(m,g,S,v){var x=S.type;return x===hr?c(m,g,S.props.children,v,S.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.\$\$typeof===Kt&&jf(x)===g.type)?(v=i(g,S.props),v.ref=ri(m,g,S),v.return=m,v):(v=Xo(S.type,S.key,S.props,null,m.mode,v),v.ref=ri(m,g,S),v.return=m,v)}function u(m,g,S,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==S.containerInfo||g.stateNode.implementation!==S.implementation?(g=ql(S,m.mode,v),g.return=m,g):(g=i(g,S.children||[]),g.return=m,g)}function c(m,g,S,v,x){return g===null||g.tag!==7?(g=\$n(S,m.mode,v,x),g.return=m,g):(g=i(g,S),g.return=m,g)}function f(m,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kl(""+g,m.mode,S),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.\$\$typeof){case vo:return S=Xo(g.type,g.key,g.props,null,m.mode,S),S.ref=ri(m,null,g),S.return=m,S;case dr:return g=ql(g,m.mode,S),g.return=m,g;case Kt:var v=g._init;return f(m,v(g._payload),S)}if(ui(g)||Xr(g))return g=\$n(g,m.mode,S,null),g.return=m,g;Po(m,g)}return null}function d(m,g,S,v){var x=g!==null?g.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return x!==null?null:l(m,g,""+S,v);if(typeof S=="object"&&S!==null){switch(S.\$\$typeof){case vo:return S.key===x?a(m,g,S,v):null;case dr:return S.key===x?u(m,g,S,v):null;case Kt:return x=S._init,d(m,g,x(S._payload),v)}if(ui(S)||Xr(S))return x!==null?null:c(m,g,S,v,null);Po(m,S)}return null}function h(m,g,S,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(S)||null,l(g,m,""+v,x);if(typeof v=="object"&&v!==null){switch(v.\$\$typeof){case vo:return m=m.get(v.key===null?S:v.key)||null,a(g,m,v,x);case dr:return m=m.get(v.key===null?S:v.key)||null,u(g,m,v,x);case Kt:var w=v._init;return h(m,g,S,w(v._payload),x)}if(ui(v)||Xr(v))return m=m.get(S)||null,c(g,m,v,x,null);Po(g,v)}return null}function p(m,g,S,v){for(var x=null,w=null,E=g,N=g=0,P=null;E!==null&&N<S.length;N++){E.index>N?(P=E,E=null):P=E.sibling;var I=d(m,E,S[N],v);if(I===null){E===null&&(E=P);break}t&&E&&I.alternate===null&&e(m,E),g=o(I,g,N),w===null?x=I:w.sibling=I,w=I,E=P}if(N===S.length)return n(m,E),G&&Mn(m,N),x;if(E===null){for(;N<S.length;N++)E=f(m,S[N],v),E!==null&&(g=o(E,g,N),w===null?x=E:w.sibling=E,w=E);return G&&Mn(m,N),x}for(E=r(m,E);N<S.length;N++)P=h(E,m,N,S[N],v),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?N:P.key),g=o(P,g,N),w===null?x=P:w.sibling=P,w=P);return t&&E.forEach(function(Se){return e(m,Se)}),G&&Mn(m,N),x}function y(m,g,S,v){var x=Xr(S);if(typeof x!="function")throw Error(C(150));if(S=x.call(S),S==null)throw Error(C(151));for(var w=x=null,E=g,N=g=0,P=null,I=S.next();E!==null&&!I.done;N++,I=S.next()){E.index>N?(P=E,E=null):P=E.sibling;var Se=d(m,E,I.value,v);if(Se===null){E===null&&(E=P);break}t&&E&&Se.alternate===null&&e(m,E),g=o(Se,g,N),w===null?x=Se:w.sibling=Se,w=Se,E=P}if(I.done)return n(m,E),G&&Mn(m,N),x;if(E===null){for(;!I.done;N++,I=S.next())I=f(m,I.value,v),I!==null&&(g=o(I,g,N),w===null?x=I:w.sibling=I,w=I);return G&&Mn(m,N),x}for(E=r(m,E);!I.done;N++,I=S.next())I=h(E,m,N,I.value,v),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?N:I.key),g=o(I,g,N),w===null?x=I:w.sibling=I,w=I);return t&&E.forEach(function(xn){return e(m,xn)}),G&&Mn(m,N),x}function k(m,g,S,v){if(typeof S=="object"&&S!==null&&S.type===hr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.\$\$typeof){case vo:e:{for(var x=S.key,w=g;w!==null;){if(w.key===x){if(x=S.type,x===hr){if(w.tag===7){n(m,w.sibling),g=i(w,S.props.children),g.return=m,m=g;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.\$\$typeof===Kt&&jf(x)===w.type){n(m,w.sibling),g=i(w,S.props),g.ref=ri(m,w,S),g.return=m,m=g;break e}n(m,w);break}else e(m,w);w=w.sibling}S.type===hr?(g=\$n(S.props.children,m.mode,v,S.key),g.return=m,m=g):(v=Xo(S.type,S.key,S.props,null,m.mode,v),v.ref=ri(m,g,S),v.return=m,m=v)}return s(m);case dr:e:{for(w=S.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===S.containerInfo&&g.stateNode.implementation===S.implementation){n(m,g.sibling),g=i(g,S.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=ql(S,m.mode,v),g.return=m,m=g}return s(m);case Kt:return w=S._init,k(m,g,w(S._payload),v)}if(ui(S))return p(m,g,S,v);if(Xr(S))return y(m,g,S,v);Po(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,S),g.return=m,m=g):(n(m,g),g=Kl(S,m.mode,v),g.return=m,m=g),s(m)):n(m,g)}return k}var Br=Up(!0),Jp=Up(!1),fo={},Et=Sn(fo),Ki=Sn(fo),qi=Sn(fo);function Pn(t){if(t===fo)throw Error(C(174));return t}function dc(t,e){switch(U(qi,e),U(Ki,t),U(Et,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pa(e,t)}K(Et),U(Et,e)}function \$r(){K(Et),K(Ki),K(qi)}function Hp(t){Pn(qi.current);var e=Pn(Et.current),n=Pa(e,t.type);e!==n&&(U(Ki,t),U(Et,n))}function hc(t){Ki.current===t&&(K(Et),K(Ki))}var Y=Sn(0);function xs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="\$?"||n.data==="\$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function pc(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Ko=Wt.ReactCurrentDispatcher,jl=Wt.ReactCurrentBatchConfig,qn=0,X=null,se=null,ue=null,Cs=!1,Ni=!1,Qi=0,O1=0;function ke(){throw Error(C(321))}function mc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pt(t[n],e[n]))return!1;return!0}function gc(t,e,n,r,i,o){if(qn=o,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?I1:A1,t=n(r,i),Ni){o=0;do{if(Ni=!1,Qi=0,25<=o)throw Error(C(301));o+=1,ue=se=null,e.updateQueue=null,Ko.current=z1,t=n(r,i)}while(Ni)}if(Ko.current=Es,e=se!==null&&se.next!==null,qn=0,ue=se=X=null,Cs=!1,e)throw Error(C(300));return t}function yc(){var t=Qi!==0;return Qi=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=t:ue=ue.next=t,ue}function ot(){if(se===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ue===null?X.memoizedState:ue.next;if(e!==null)ue=e,se=t;else{if(t===null)throw Error(C(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ue===null?X.memoizedState=ue=t:ue=ue.next=t}return ue}function Gi(t,e){return typeof e=="function"?e(t):e}function Wl(t){var e=ot(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=se,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((qn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,X.lanes|=c,Qn|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,pt(r,e.memoizedState)||(Be=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,X.lanes|=o,Qn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ul(t){var e=ot(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);pt(o,e.memoizedState)||(Be=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Kp(){}function qp(t,e){var n=X,r=ot(),i=e(),o=!pt(r.memoizedState,i);if(o&&(r.memoizedState=i,Be=!0),r=r.queue,Sc(Yp.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Yi(9,Gp.bind(null,n,r,i,e),void 0,null),fe===null)throw Error(C(349));qn&30||Qp(n,e,i)}return i}function Qp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gp(t,e,n,r){e.value=n,e.getSnapshot=r,Xp(e)&&Zp(t)}function Yp(t,e,n){return n(function(){Xp(e)&&Zp(t)})}function Xp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pt(t,n)}catch{return!0}}function Zp(t){var e=Vt(t,1);e!==null&&ht(e,t,1,-1)}function Wf(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},e.queue=t,t=t.dispatch=P1.bind(null,X,t),[e.memoizedState,t]}function Yi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function em(){return ot().memoizedState}function qo(t,e,n,r){var i=St();X.flags|=t,i.memoizedState=Yi(1|e,n,void 0,r===void 0?null:r)}function el(t,e,n,r){var i=ot();r=r===void 0?null:r;var o=void 0;if(se!==null){var s=se.memoizedState;if(o=s.destroy,r!==null&&mc(r,s.deps)){i.memoizedState=Yi(e,n,o,r);return}}X.flags|=t,i.memoizedState=Yi(1|e,n,o,r)}function Uf(t,e){return qo(8390656,8,t,e)}function Sc(t,e){return el(2048,8,t,e)}function tm(t,e){return el(4,2,t,e)}function nm(t,e){return el(4,4,t,e)}function rm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function im(t,e,n){return n=n!=null?n.concat([t]):null,el(4,4,rm.bind(null,e,t),n)}function kc(){}function om(t,e){var n=ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sm(t,e){var n=ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lm(t,e,n){return qn&21?(pt(n,e)||(n=cp(),X.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Be=!0),t.memoizedState=n)}function D1(t,e){var n=_;_=n!==0&&4>n?n:4,t(!0);var r=jl.transition;jl.transition={};try{t(!1),e()}finally{_=n,jl.transition=r}}function am(){return ot().memoizedState}function R1(t,e,n){var r=un(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},um(t))cm(e,n);else if(n=Vp(t,e,n,r),n!==null){var i=Pe();ht(n,t,r,i),fm(n,e,r)}}function P1(t,e,n){var r=un(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(um(t))cm(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,pt(l,s)){var a=e.interleaved;a===null?(i.next=i,cc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Vp(t,e,i,r),n!==null&&(i=Pe(),ht(n,t,r,i),fm(n,e,r))}}function um(t){var e=t.alternate;return t===X||e!==null&&e===X}function cm(t,e){Ni=Cs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gu(t,n)}}var Es={readContext:it,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},I1={readContext:it,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:it,useEffect:Uf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qo(4194308,4,rm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return qo(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=St();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R1.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:Wf,useDebugValue:kc,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Wf(!1),e=t[0];return t=D1.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,i=St();if(G){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),fe===null)throw Error(C(349));qn&30||Qp(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Uf(Yp.bind(null,r,o,t),[t]),r.flags|=2048,Yi(9,Gp.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=St(),e=fe.identifierPrefix;if(G){var n=zt,r=At;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A1={readContext:it,useCallback:om,useContext:it,useEffect:Sc,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:sm,useReducer:Wl,useRef:em,useState:function(){return Wl(Gi)},useDebugValue:kc,useDeferredValue:function(t){var e=ot();return lm(e,se.memoizedState,t)},useTransition:function(){var t=Wl(Gi)[0],e=ot().memoizedState;return[t,e]},useMutableSource:Kp,useSyncExternalStore:qp,useId:am,unstable_isNewReconciler:!1},z1={readContext:it,useCallback:om,useContext:it,useEffect:Sc,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:sm,useReducer:Ul,useRef:em,useState:function(){return Ul(Gi)},useDebugValue:kc,useDeferredValue:function(t){var e=ot();return se===null?e.memoizedState=t:lm(e,se.memoizedState,t)},useTransition:function(){var t=Ul(Gi)[0],e=ot().memoizedState;return[t,e]},useMutableSource:Kp,useSyncExternalStore:qp,useId:am,unstable_isNewReconciler:!1};function Vr(t,e){try{var n="",r=e;do n+=a0(r),r=r.return;while(r);var i=n}catch(o){i=\`
Error generating stack: \`+o.message+\`
\`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b1=typeof WeakMap=="function"?WeakMap:Map;function dm(t,e,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ns||(Ns=!0,cu=r),eu(t,e)},n}function hm(t,e,n){n=bt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eu(t,e),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Jf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Q1.bind(null,t,e,n),e.then(t,t))}function Hf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bt(-1,1),e.tag=2,ln(n,e,1))),n.lanes|=1),t)}var F1=Wt.ReactCurrentOwner,Be=!1;function Oe(t,e,n,r){e.child=t===null?Jp(e,null,n,r):Br(e,t.child,n,r)}function qf(t,e,n,r,i){n=n.render;var o=e.ref;return Rr(e,i),r=gc(t,e,n,r,o,i),n=yc(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_t(t,e,i)):(G&&n&&ic(e),e.flags|=1,Oe(t,e,r,i),e.child)}function Qf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Tc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pm(t,e,o,r,i)):(t=Xo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(s,r)&&t.ref===e.ref)return _t(t,e,i)}return e.flags|=1,t=cn(o,r),t.ref=e.ref,t.return=e,e.child=t}function pm(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Wi(o,r)&&t.ref===e.ref)if(Be=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Be=!0);else return e.lanes=t.lanes,_t(t,e,i)}return tu(t,e,n,r,i)}function mm(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},U(Cr,Ue),Ue|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,U(Cr,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,U(Cr,Ue),Ue|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,U(Cr,Ue),Ue|=r;return Oe(t,e,i,n),e.child}function gm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tu(t,e,n,r,i){var o=Ve(n)?Hn:Ee.current;return o=Fr(e,o),Rr(e,i),n=gc(t,e,n,r,o,i),r=yc(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_t(t,e,i)):(G&&r&&ic(e),e.flags|=1,Oe(t,e,n,i),e.child)}function Gf(t,e,n,r,i){if(Ve(n)){var o=!0;gs(e)}else o=!1;if(Rr(e,i),e.stateNode===null)Qo(t,e),Wp(e,n,r),Za(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=it(u):(u=Ve(n)?Hn:Ee.current,u=Fr(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&_f(e,s,r,u),qt=!1;var d=e.memoizedState;s.state=d,ws(e,r,s,i),a=e.memoizedState,l!==r||d!==a||\$e.current||qt?(typeof c=="function"&&(Xa(e,n,c,r),a=e.memoizedState),(l=qt||Vf(e,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,_p(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:lt(e.type,l),s.props=u,f=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=it(a):(a=Ve(n)?Hn:Ee.current,a=Fr(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&_f(e,s,r,a),qt=!1,d=e.memoizedState,s.state=d,ws(e,r,s,i);var p=e.memoizedState;l!==f||d!==p||\$e.current||qt?(typeof h=="function"&&(Xa(e,n,h,r),p=e.memoizedState),(u=qt||Vf(e,n,u,r,d,p,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return nu(t,e,n,r,o,i)}function nu(t,e,n,r,i,o){gm(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&bf(e,n,!1),_t(t,e,o);r=e.stateNode,F1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Br(e,t.child,null,o),e.child=Br(e,null,l,o)):Oe(t,e,l,o),e.memoizedState=r.state,i&&bf(e,n,!0),e.child}function ym(t){var e=t.stateNode;e.pendingContext?zf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zf(t,e.context,!1),dc(t,e.containerInfo)}function Yf(t,e,n,r,i){return Lr(),sc(i),e.flags|=256,Oe(t,e,n,r),e.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sm(t,e,n){var r=e.pendingProps,i=Y.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),U(Y,i&1),t===null)return Ga(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="\$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=rl(s,r,0,null),t=\$n(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=iu(n),e.memoizedState=ru,t):vc(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return L1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=cn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=cn(l,o):(o=\$n(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?iu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ru,r}return o=t.child,t=o.sibling,r=cn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vc(t,e){return e=rl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,n,r){return r!==null&&sc(r),Br(e,t.child,null,n),t=vc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Jl(Error(C(422))),Io(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=rl({mode:"visible",children:r.children},i,0,null),o=\$n(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Br(e,t.child,null,s),e.child.memoizedState=iu(s),e.memoizedState=ru,o);if(!(e.mode&1))return Io(t,e,s,null);if(i.data==="\$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(C(419)),r=Jl(o,r,void 0),Io(t,e,s,r)}if(l=(s&t.childLanes)!==0,Be||l){if(r=fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vt(t,i),ht(r,t,i,-1))}return Nc(),r=Jl(Error(C(421))),Io(t,e,s,r)}return i.data==="\$?"?(e.flags|=128,e.child=t.child,e=G1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,He=sn(i.nextSibling),Ke=e,G=!0,ut=null,t!==null&&(Xe[Ze++]=At,Xe[Ze++]=zt,Xe[Ze++]=Kn,At=t.id,zt=t.overflow,Kn=e),e=vc(e,r.children),e.flags|=4096,e)}function Xf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ya(t.return,e,n)}function Hl(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function km(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Oe(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xf(t,n,e);else if(t.tag===19)Xf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(U(Y,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hl(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hl(e,!0,n,null,o);break;case"together":Hl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B1(t,e,n){switch(e.tag){case 3:ym(e),Lr();break;case 5:Hp(e);break;case 1:Ve(e.type)&&gs(e);break;case 4:dc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;U(ks,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(U(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Sm(t,e,n):(U(Y,Y.current&1),t=_t(t,e,n),t!==null?t.sibling:null);U(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return km(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,mm(t,e,n)}return _t(t,e,n)}var vm,ou,wm,xm;vm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ou=function(){};wm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pn(Et.current);var o=null;switch(n){case"input":i=Ta(t,i),r=Ta(t,r),o=[];break;case"select":i=Z({},i,{value:void 0}),r=Z({},r,{value:void 0}),o=[];break;case"textarea":i=Ra(t,i),r=Ra(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ps)}Ia(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&H("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};xm=function(t,e,n,r){n!==r&&(e.flags|=4)};function ii(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function \$1(t,e,n){var r=e.pendingProps;switch(oc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Ve(e.type)&&ms(),ve(e),null;case 3:return r=e.stateNode,\$r(),K(\$e),K(Ee),pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ro(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ut!==null&&(hu(ut),ut=null))),ou(t,e),ve(e),null;case 5:hc(e);var i=Pn(qi.current);if(n=e.type,t!==null&&e.stateNode!=null)wm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return ve(e),null}if(t=Pn(Et.current),Ro(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kt]=e,r[Hi]=o,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(i=0;i<fi.length;i++)H(fi[i],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":lf(r,o),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},H("invalid",r);break;case"textarea":uf(r,o),H("invalid",r)}Ia(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Do(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Do(r.textContent,l,t),i=["children",""+l]):Fi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&H("scroll",r)}switch(n){case"input":wo(r),af(r,o,!0);break;case"textarea":wo(r),cf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ps)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kt]=e,t[Hi]=r,vm(t,e,!1,!1),e.stateNode=t;e:{switch(s=Aa(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<fi.length;i++)H(fi[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":lf(t,r),i=Ta(t,r),H("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Z({},r,{value:void 0}),H("invalid",t);break;case"textarea":uf(t,r),i=Ra(t,r),H("invalid",t);break;default:i=r}Ia(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Xh(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Gh(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Li(t,a):typeof a=="number"&&Li(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&H("scroll",t):a!=null&&Uu(t,o,a,s))}switch(n){case"input":wo(t),af(t,r,!1);break;case"textarea":wo(t),cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Nr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)xm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=Pn(qi.current),Pn(Et.current),Ro(e)){if(r=e.stateNode,n=e.memoizedProps,r[kt]=e,(o=r.nodeValue!==n)&&(t=Ke,t!==null))switch(t.tag){case 3:Do(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Do(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=e,e.stateNode=r}return ve(e),null;case 13:if(K(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&He!==null&&e.mode&1&&!(e.flags&128))\$p(),Lr(),e.flags|=98560,o=!1;else if(o=Ro(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(C(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[kt]=e}else Lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),o=!1}else ut!==null&&(hu(ut),ut=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?le===0&&(le=3):Nc())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return \$r(),ou(t,e),t===null&&Ui(e.stateNode.containerInfo),ve(e),null;case 10:return uc(e.type._context),ve(e),null;case 17:return Ve(e.type)&&ms(),ve(e),null;case 19:if(K(Y),o=e.memoizedState,o===null)return ve(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ii(o,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=xs(t),s!==null){for(e.flags|=128,ii(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return U(Y,Y.current&1|2),e.child}t=t.sibling}o.tail!==null&&re()>_r&&(e.flags|=128,r=!0,ii(o,!1),e.lanes=4194304)}else{if(!r)if(t=xs(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!G)return ve(e),null}else 2*re()-o.renderingStartTime>_r&&n!==1073741824&&(e.flags|=128,r=!0,ii(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=re(),e.sibling=null,n=Y.current,U(Y,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return Mc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function V1(t,e){switch(oc(e),e.tag){case 1:return Ve(e.type)&&ms(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return \$r(),K(\$e),K(Ee),pc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hc(e),null;case 13:if(K(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Y),null;case 4:return \$r(),null;case 10:return uc(e.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var Ao=!1,xe=!1,_1=typeof WeakSet=="function"?WeakSet:Set,T=null;function xr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function su(t,e,n){try{n()}catch(r){ee(t,e,r)}}var Zf=!1;function j1(t,e){if(Wa=fs,t=Np(),rc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ua={focusedElem:t,selectionRange:n},fs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,k=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:lt(e.type,y),k);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(v){ee(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return p=Zf,Zf=!1,p}function Ti(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&su(e,n,o)}i=i.next}while(i!==r)}}function tl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cm(t){var e=t.alternate;e!==null&&(t.alternate=null,Cm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kt],delete e[Hi],delete e[Ka],delete e[E1],delete e[M1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Em(t){return t.tag===5||t.tag===3||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Em(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function au(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ps));else if(r!==4&&(t=t.child,t!==null))for(au(t,e,n),t=t.sibling;t!==null;)au(t,e,n),t=t.sibling}function uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uu(t,e,n),t=t.sibling;t!==null;)uu(t,e,n),t=t.sibling}var he=null,at=!1;function Jt(t,e,n){for(n=n.child;n!==null;)Mm(t,e,n),n=n.sibling}function Mm(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ks,n)}catch{}switch(n.tag){case 5:xe||xr(n,e);case 6:var r=he,i=at;he=null,Jt(t,e,n),he=r,at=i,he!==null&&(at?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(at?(t=he,n=n.stateNode,t.nodeType===8?\$l(t.parentNode,n):t.nodeType===1&&\$l(t,n),_i(t)):\$l(he,n.stateNode));break;case 4:r=he,i=at,he=n.stateNode.containerInfo,at=!0,Jt(t,e,n),he=r,at=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&su(n,e,s),i=i.next}while(i!==r)}Jt(t,e,n);break;case 1:if(!xe&&(xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ee(n,e,l)}Jt(t,e,n);break;case 21:Jt(t,e,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Jt(t,e,n),xe=r):Jt(t,e,n);break;default:Jt(t,e,n)}}function td(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _1),e.forEach(function(r){var i=Y1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function st(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:he=l.stateNode,at=!1;break e;case 3:he=l.stateNode.containerInfo,at=!0;break e;case 4:he=l.stateNode.containerInfo,at=!0;break e}l=l.return}if(he===null)throw Error(C(160));Mm(o,s,i),he=null,at=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nm(e,t),e=e.sibling}function Nm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(st(e,t),yt(t),r&4){try{Ti(3,t,t.return),tl(3,t)}catch(y){ee(t,t.return,y)}try{Ti(5,t,t.return)}catch(y){ee(t,t.return,y)}}break;case 1:st(e,t),yt(t),r&512&&n!==null&&xr(n,n.return);break;case 5:if(st(e,t),yt(t),r&512&&n!==null&&xr(n,n.return),t.flags&32){var i=t.stateNode;try{Li(i,"")}catch(y){ee(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Kh(i,o),Aa(l,s);var u=Aa(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?Xh(i,f):c==="dangerouslySetInnerHTML"?Gh(i,f):c==="children"?Li(i,f):Uu(i,c,f,u)}switch(l){case"input":Oa(i,o);break;case"textarea":qh(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Nr(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Nr(i,!!o.multiple,o.defaultValue,!0):Nr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hi]=o}catch(y){ee(t,t.return,y)}}break;case 6:if(st(e,t),yt(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ee(t,t.return,y)}}break;case 3:if(st(e,t),yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_i(e.containerInfo)}catch(y){ee(t,t.return,y)}break;case 4:st(e,t),yt(t);break;case 13:st(e,t),yt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cc=re())),r&4&&td(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xe=(u=xe)||c,st(e,t),xe=u):st(e,t),yt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(T=t,c=t.child;c!==null;){for(f=T=c;T!==null;){switch(d=T,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ti(4,d,d.return);break;case 1:xr(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){ee(r,n,y)}}break;case 5:xr(d,d.return);break;case 22:if(d.memoizedState!==null){rd(f);continue}}h!==null?(h.return=d,T=h):rd(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Yh("display",s))}catch(y){ee(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ee(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:st(e,t),yt(t),r&4&&td(t);break;case 21:break;default:st(e,t),yt(t)}}function yt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Em(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Li(i,""),r.flags&=-33);var o=ed(t);uu(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=ed(t);au(t,l,s);break;default:throw Error(C(161))}}catch(a){ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W1(t,e,n){T=t,Tm(t)}function Tm(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ao;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Ao;var u=xe;if(Ao=s,(xe=a)&&!u)for(T=i;T!==null;)s=T,a=s.child,s.tag===22&&s.memoizedState!==null?id(i):a!==null?(a.return=s,T=a):id(i);for(;o!==null;)T=o,Tm(o),o=o.sibling;T=i,Ao=l,xe=u}nd(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,T=o):nd(t)}}function nd(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xe||tl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&\$f(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}\$f(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&_i(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}xe||e.flags&512&&lu(e)}catch(d){ee(e,e.return,d)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function rd(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function id(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tl(4,e)}catch(a){ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ee(e,i,a)}}var o=e.return;try{lu(e)}catch(a){ee(e,o,a)}break;case 5:var s=e.return;try{lu(e)}catch(a){ee(e,s,a)}}}catch(a){ee(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var U1=Math.ceil,Ms=Wt.ReactCurrentDispatcher,wc=Wt.ReactCurrentOwner,nt=Wt.ReactCurrentBatchConfig,\$=0,fe=null,ie=null,ge=0,Ue=0,Cr=Sn(0),le=0,Xi=null,Qn=0,nl=0,xc=0,Oi=null,Le=null,Cc=0,_r=1/0,Dt=null,Ns=!1,cu=null,an=null,zo=!1,en=null,Ts=0,Di=0,fu=null,Go=-1,Yo=0;function Pe(){return \$&6?re():Go!==-1?Go:Go=re()}function un(t){return t.mode&1?\$&2&&ge!==0?ge&-ge:T1.transition!==null?(Yo===0&&(Yo=cp()),Yo):(t=_,t!==0||(t=window.event,t=t===void 0?16:yp(t.type)),t):1}function ht(t,e,n,r){if(50<Di)throw Di=0,fu=null,Error(C(185));ao(t,n,r),(!(\$&2)||t!==fe)&&(t===fe&&(!(\$&2)&&(nl|=n),le===4&&Yt(t,ge)),_e(t,r),n===1&&\$===0&&!(e.mode&1)&&(_r=re()+500,Xs&&kn()))}function _e(t,e){var n=t.callbackNode;T0(t,e);var r=cs(t,t===fe?ge:0);if(r===0)n!==null&&hf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hf(n),e===1)t.tag===0?N1(od.bind(null,t)):Fp(od.bind(null,t)),x1(function(){!(\$&6)&&kn()}),n=null;else{switch(fp(r)){case 1:n=Qu;break;case 4:n=ap;break;case 16:n=us;break;case 536870912:n=up;break;default:n=us}n=bm(n,Om.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Om(t,e){if(Go=-1,Yo=0,\$&6)throw Error(C(327));var n=t.callbackNode;if(Pr()&&t.callbackNode!==n)return null;var r=cs(t,t===fe?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Os(t,r);else{e=r;var i=\$;\$|=2;var o=Rm();(fe!==t||ge!==e)&&(Dt=null,_r=re()+500,Bn(t,e));do try{K1();break}catch(l){Dm(t,l)}while(!0);ac(),Ms.current=o,\$=i,ie!==null?e=0:(fe=null,ge=0,e=le)}if(e!==0){if(e===2&&(i=Ba(t),i!==0&&(r=i,e=du(t,i))),e===1)throw n=Xi,Bn(t,0),Yt(t,r),_e(t,re()),n;if(e===6)Yt(t,r);else{if(i=t.current.alternate,!(r&30)&&!J1(i)&&(e=Os(t,r),e===2&&(o=Ba(t),o!==0&&(r=o,e=du(t,o))),e===1))throw n=Xi,Bn(t,0),Yt(t,r),_e(t,re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Nn(t,Le,Dt);break;case 3:if(Yt(t,r),(r&130023424)===r&&(e=Cc+500-re(),10<e)){if(cs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ha(Nn.bind(null,t,Le,Dt),e);break}Nn(t,Le,Dt);break;case 4:if(Yt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U1(r/1960))-r,10<r){t.timeoutHandle=Ha(Nn.bind(null,t,Le,Dt),r);break}Nn(t,Le,Dt);break;case 5:Nn(t,Le,Dt);break;default:throw Error(C(329))}}}return _e(t,re()),t.callbackNode===n?Om.bind(null,t):null}function du(t,e){var n=Oi;return t.current.memoizedState.isDehydrated&&(Bn(t,e).flags|=256),t=Os(t,e),t!==2&&(e=Le,Le=n,e!==null&&hu(e)),t}function hu(t){Le===null?Le=t:Le.push.apply(Le,t)}function J1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!pt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yt(t,e){for(e&=~xc,e&=~nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dt(e),r=1<<n;t[n]=-1,e&=~r}}function od(t){if(\$&6)throw Error(C(327));Pr();var e=cs(t,0);if(!(e&1))return _e(t,re()),null;var n=Os(t,e);if(t.tag!==0&&n===2){var r=Ba(t);r!==0&&(e=r,n=du(t,r))}if(n===1)throw n=Xi,Bn(t,0),Yt(t,e),_e(t,re()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nn(t,Le,Dt),_e(t,re()),null}function Ec(t,e){var n=\$;\$|=1;try{return t(e)}finally{\$=n,\$===0&&(_r=re()+500,Xs&&kn())}}function Gn(t){en!==null&&en.tag===0&&!(\$&6)&&Pr();var e=\$;\$|=1;var n=nt.transition,r=_;try{if(nt.transition=null,_=1,t)return t()}finally{_=r,nt.transition=n,\$=e,!(\$&6)&&kn()}}function Mc(){Ue=Cr.current,K(Cr)}function Bn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w1(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(oc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ms();break;case 3:\$r(),K(\$e),K(Ee),pc();break;case 5:hc(r);break;case 4:\$r();break;case 13:K(Y);break;case 19:K(Y);break;case 10:uc(r.type._context);break;case 22:case 23:Mc()}n=n.return}if(fe=t,ie=t=cn(t.current,null),ge=Ue=e,le=0,Xi=null,xc=nl=Qn=0,Le=Oi=null,Rn!==null){for(e=0;e<Rn.length;e++)if(n=Rn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Rn=null}return t}function Dm(t,e){do{var n=ie;try{if(ac(),Ko.current=Es,Cs){for(var r=X.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cs=!1}if(qn=0,ue=se=X=null,Ni=!1,Qi=0,wc.current=null,n===null||n.return===null){le=1,Xi=e,ie=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Hf(s);if(h!==null){h.flags&=-257,Kf(h,s,l,o,e),h.mode&1&&Jf(o,u,e),e=h,a=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(a),e.updateQueue=y}else p.add(a);break e}else{if(!(e&1)){Jf(o,u,e),Nc();break e}a=Error(C(426))}}else if(G&&l.mode&1){var k=Hf(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Kf(k,s,l,o,e),sc(Vr(a,l));break e}}o=a=Vr(a,l),le!==4&&(le=2),Oi===null?Oi=[o]:Oi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=dm(o,a,e);Bf(o,m);break e;case 1:l=a;var g=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(an===null||!an.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=hm(o,l,e);Bf(o,v);break e}}o=o.return}while(o!==null)}Im(n)}catch(x){e=x,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function Rm(){var t=Ms.current;return Ms.current=Es,t===null?Es:t}function Nc(){(le===0||le===3||le===2)&&(le=4),fe===null||!(Qn&268435455)&&!(nl&268435455)||Yt(fe,ge)}function Os(t,e){var n=\$;\$|=2;var r=Rm();(fe!==t||ge!==e)&&(Dt=null,Bn(t,e));do try{H1();break}catch(i){Dm(t,i)}while(!0);if(ac(),\$=n,Ms.current=r,ie!==null)throw Error(C(261));return fe=null,ge=0,le}function H1(){for(;ie!==null;)Pm(ie)}function K1(){for(;ie!==null&&!S0();)Pm(ie)}function Pm(t){var e=zm(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Im(t):ie=e,wc.current=null}function Im(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V1(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,ie=null;return}}else if(n=\$1(n,e,Ue),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);le===0&&(le=5)}function Nn(t,e,n){var r=_,i=nt.transition;try{nt.transition=null,_=1,q1(t,e,n,r)}finally{nt.transition=i,_=r}return null}function q1(t,e,n,r){do Pr();while(en!==null);if(\$&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(O0(t,o),t===fe&&(ie=fe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,bm(us,function(){return Pr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nt.transition,nt.transition=null;var s=_;_=1;var l=\$;\$|=4,wc.current=null,j1(t,n),Nm(n,t),p1(Ua),fs=!!Wa,Ua=Wa=null,t.current=n,W1(n),k0(),\$=l,_=s,nt.transition=o}else t.current=n;if(zo&&(zo=!1,en=t,Ts=i),o=t.pendingLanes,o===0&&(an=null),x0(n.stateNode),_e(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ns)throw Ns=!1,t=cu,cu=null,t;return Ts&1&&t.tag!==0&&Pr(),o=t.pendingLanes,o&1?t===fu?Di++:(Di=0,fu=t):Di=0,kn(),null}function Pr(){if(en!==null){var t=fp(Ts),e=nt.transition,n=_;try{if(nt.transition=null,_=16>t?16:t,en===null)var r=!1;else{if(t=en,en=null,Ts=0,\$&6)throw Error(C(331));var i=\$;for(\$|=4,T=t.current;T!==null;){var o=T,s=o.child;if(T.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:Ti(8,c,o)}var f=c.child;if(f!==null)f.return=c,T=f;else for(;T!==null;){c=T;var d=c.sibling,h=c.return;if(Cm(c),c===u){T=null;break}if(d!==null){d.return=h,T=d;break}T=h}}}var p=o.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}T=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,T=s;else e:for(;T!==null;){if(o=T,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ti(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,T=m;break e}T=o.return}}var g=t.current;for(T=g;T!==null;){s=T;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,T=S;else e:for(s=g;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tl(9,l)}}catch(x){ee(l,l.return,x)}if(l===s){T=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,T=v;break e}T=l.return}}if(\$=i,kn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ks,t)}catch{}r=!0}return r}finally{_=n,nt.transition=e}}return!1}function sd(t,e,n){e=Vr(n,e),e=dm(t,e,1),t=ln(t,e,1),e=Pe(),t!==null&&(ao(t,1,e),_e(t,e))}function ee(t,e,n){if(t.tag===3)sd(t,t,n);else for(;e!==null;){if(e.tag===3){sd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){t=Vr(n,t),t=hm(e,t,1),e=ln(e,t,1),t=Pe(),e!==null&&(ao(e,1,t),_e(e,t));break}}e=e.return}}function Q1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pe(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(ge&n)===n&&(le===4||le===3&&(ge&130023424)===ge&&500>re()-Cc?Bn(t,0):xc|=n),_e(t,e)}function Am(t,e){e===0&&(t.mode&1?(e=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):e=1);var n=Pe();t=Vt(t,e),t!==null&&(ao(t,e,n),_e(t,n))}function G1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Am(t,n)}function Y1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Am(t,n)}var zm;zm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||\$e.current)Be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Be=!1,B1(t,e,n);Be=!!(t.flags&131072)}else Be=!1,G&&e.flags&1048576&&Lp(e,Ss,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qo(t,e),t=e.pendingProps;var i=Fr(e,Ee.current);Rr(e,n),i=gc(null,e,r,t,i,n);var o=yc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.\$\$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ve(r)?(o=!0,gs(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fc(e),i.updater=Zs,e.stateNode=i,i._reactInternals=e,Za(e,r,t,n),e=nu(null,e,r,!0,o,n)):(e.tag=0,G&&o&&ic(e),Oe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Z1(r),t=lt(r,t),i){case 0:e=tu(null,e,r,t,n);break e;case 1:e=Gf(null,e,r,t,n);break e;case 11:e=qf(null,e,r,t,n);break e;case 14:e=Qf(null,e,r,lt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lt(r,i),tu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lt(r,i),Gf(t,e,r,i,n);case 3:e:{if(ym(e),t===null)throw Error(C(387));r=e.pendingProps,o=e.memoizedState,i=o.element,_p(t,e),ws(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Vr(Error(C(423)),e),e=Yf(t,e,r,n,i);break e}else if(r!==i){i=Vr(Error(C(424)),e),e=Yf(t,e,r,n,i);break e}else for(He=sn(e.stateNode.containerInfo.firstChild),Ke=e,G=!0,ut=null,n=Jp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),r===i){e=_t(t,e,n);break e}Oe(t,e,r,n)}e=e.child}return e;case 5:return Hp(e),t===null&&Ga(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ja(r,i)?s=null:o!==null&&Ja(r,o)&&(e.flags|=32),gm(t,e),Oe(t,e,s,n),e.child;case 6:return t===null&&Ga(e),null;case 13:return Sm(t,e,n);case 4:return dc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Br(e,null,r,n):Oe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lt(r,i),qf(t,e,r,i,n);case 7:return Oe(t,e,e.pendingProps,n),e.child;case 8:return Oe(t,e,e.pendingProps.children,n),e.child;case 12:return Oe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,U(ks,r._currentValue),r._currentValue=s,o!==null)if(pt(o.value,s)){if(o.children===i.children&&!\$e.current){e=_t(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=bt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ya(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(C(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ya(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Oe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rr(e,n),i=it(i),r=r(i),e.flags|=1,Oe(t,e,r,n),e.child;case 14:return r=e.type,i=lt(r,e.pendingProps),i=lt(r.type,i),Qf(t,e,r,i,n);case 15:return pm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lt(r,i),Qo(t,e),e.tag=1,Ve(r)?(t=!0,gs(e)):t=!1,Rr(e,n),Wp(e,r,i),Za(e,r,i,n),nu(null,e,r,!0,t,n);case 19:return km(t,e,n);case 22:return mm(t,e,n)}throw Error(C(156,e.tag))};function bm(t,e){return lp(t,e)}function X1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,n,r){return new X1(t,e,n,r)}function Tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z1(t){if(typeof t=="function")return Tc(t)?1:0;if(t!=null){if(t=t.\$\$typeof,t===Hu)return 11;if(t===Ku)return 14}return 2}function cn(t,e){var n=t.alternate;return n===null?(n=et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xo(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Tc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case hr:return \$n(n.children,i,o,e);case Ju:s=8,i|=8;break;case Ca:return t=et(12,n,e,i|2),t.elementType=Ca,t.lanes=o,t;case Ea:return t=et(13,n,e,i),t.elementType=Ea,t.lanes=o,t;case Ma:return t=et(19,n,e,i),t.elementType=Ma,t.lanes=o,t;case Uh:return rl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.\$\$typeof){case jh:s=10;break e;case Wh:s=9;break e;case Hu:s=11;break e;case Ku:s=14;break e;case Kt:s=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=et(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function \$n(t,e,n,r){return t=et(7,t,r,e),t.lanes=n,t}function rl(t,e,n,r){return t=et(22,t,r,e),t.elementType=Uh,t.lanes=n,t.stateNode={isHidden:!1},t}function Kl(t,e,n){return t=et(6,t,null,e),t.lanes=n,t}function ql(t,e,n){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oc(t,e,n,r,i,o,s,l,a){return t=new eS(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=et(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(o),t}function tS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{\$\$typeof:dr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fm(t){if(!t)return mn;t=t._reactInternals;e:{if(nr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ve(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Ve(n))return bp(t,n,e)}return e}function Lm(t,e,n,r,i,o,s,l,a){return t=Oc(n,r,!0,t,i,o,s,l,a),t.context=Fm(null),n=t.current,r=Pe(),i=un(n),o=bt(r,i),o.callback=e??null,ln(n,o,i),t.current.lanes=i,ao(t,i,r),_e(t,r),t}function il(t,e,n,r){var i=e.current,o=Pe(),s=un(i);return n=Fm(n),e.context===null?e.context=n:e.pendingContext=n,e=bt(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ln(i,e,s),t!==null&&(ht(t,i,s,o),Ho(t,i,s)),s}function Ds(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ld(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dc(t,e){ld(t,e),(t=t.alternate)&&ld(t,e)}function nS(){return null}var Bm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rc(t){this._internalRoot=t}ol.prototype.render=Rc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));il(t,e,null,null)};ol.prototype.unmount=Rc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gn(function(){il(null,t,null,null)}),e[\$t]=null}};function ol(t){this._internalRoot=t}ol.prototype.unstable_scheduleHydration=function(t){if(t){var e=pp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gt.length&&e!==0&&e<Gt[n].priority;n++);Gt.splice(n,0,t),n===0&&gp(t)}};function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ad(){}function rS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ds(s);o.call(u)}}var s=Lm(e,r,t,0,null,!1,!1,"",ad);return t._reactRootContainer=s,t[\$t]=s.current,Ui(t.nodeType===8?t.parentNode:t),Gn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ds(a);l.call(u)}}var a=Oc(t,0,!1,null,null,!1,!1,"",ad);return t._reactRootContainer=a,t[\$t]=a.current,Ui(t.nodeType===8?t.parentNode:t),Gn(function(){il(e,a,n,r)}),a}function ll(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Ds(s);l.call(a)}}il(e,s,t,i)}else s=rS(n,e,t,i,r);return Ds(s)}dp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ci(e.pendingLanes);n!==0&&(Gu(e,n|1),_e(e,re()),!(\$&6)&&(_r=re()+500,kn()))}break;case 13:Gn(function(){var r=Vt(t,1);if(r!==null){var i=Pe();ht(r,t,1,i)}}),Dc(t,1)}};Yu=function(t){if(t.tag===13){var e=Vt(t,134217728);if(e!==null){var n=Pe();ht(e,t,134217728,n)}Dc(t,134217728)}};hp=function(t){if(t.tag===13){var e=un(t),n=Vt(t,e);if(n!==null){var r=Pe();ht(n,t,e,r)}Dc(t,e)}};pp=function(){return _};mp=function(t,e){var n=_;try{return _=t,e()}finally{_=n}};ba=function(t,e,n){switch(e){case"input":if(Oa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ys(r);if(!i)throw Error(C(90));Hh(r),Oa(r,i)}}}break;case"textarea":qh(t,n);break;case"select":e=n.value,e!=null&&Nr(t,!!n.multiple,e,!1)}};tp=Ec;np=Gn;var iS={usingClientEntryPoint:!1,Events:[co,yr,Ys,Zh,ep,Ec]},oi={findFiberByHostInstance:Dn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oS={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=op(t),t===null?null:t.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||nS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{Ks=bo.inject(oS),Ct=bo}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iS;Qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(e))throw Error(C(200));return tS(t,e,null,n)};Qe.createRoot=function(t,e){if(!Pc(t))throw Error(C(299));var n=!1,r="",i=Bm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Oc(t,1,!1,null,null,n,!1,r,i),t[\$t]=e.current,Ui(t.nodeType===8?t.parentNode:t),new Rc(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=op(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Gn(t)};Qe.hydrate=function(t,e,n){if(!sl(e))throw Error(C(200));return ll(null,t,e,!0,n)};Qe.hydrateRoot=function(t,e,n){if(!Pc(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Bm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Lm(e,null,t,1,n??null,i,!1,o,s),t[\$t]=e.current,Ui(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ol(e)};Qe.render=function(t,e,n){if(!sl(e))throw Error(C(200));return ll(null,t,e,!1,n)};Qe.unmountComponentAtNode=function(t){if(!sl(t))throw Error(C(40));return t._reactRootContainer?(Gn(function(){ll(null,null,t,!1,function(){t._reactRootContainer=null,t[\$t]=null})}),!0):!1};Qe.unstable_batchedUpdates=Ec;Qe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sl(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return ll(t,e,n,!1,r)};Qe.version="18.2.0-next-9e3b772b8-20220608";function \$m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(\$m)}catch(t){console.error(t)}}\$m(),Lh.exports=Qe;var al=Lh.exports;const Vm=Lu(al);var _m,ud=al;_m=ud.createRoot,ud.hydrateRoot;function pe(t){this.content=t}pe.prototype={constructor:pe,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new pe(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new pe(n)},addToStart:function(t,e){return new pe([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new pe(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new pe(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=pe.from(t),t.size?new pe(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=pe.from(t),t.size?new pe(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=pe.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};pe.from=function(t){if(t instanceof pe)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new pe(e)};function jm(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=jm(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function Wm(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=Wm(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}let M=class Te{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Te(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new Te(r,i)}cutByIndex(e,n){return e==n?Te.empty:e==0&&n==this.content.length?this:new Te(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Te(i,o)}addToStart(e){return new Te([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Te(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return jm(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Wm(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Fo(0,e);if(e==this.size)return Fo(this.content.length,e);if(e>this.size||e<0)throw new RangeError(\`Position \${e} outside of fragment (\${this})\`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Fo(r+1,s):Fo(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Te.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Te(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Te.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Te(n||e,r)}static from(e){if(!e)return Te.empty;if(e instanceof Te)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Te([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};M.empty=new M([],0);const Ql={index:0,offset:0};function Fo(t,e){return Ql.index=t,Ql.offset=e,Ql}function Rs(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Rs(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Rs(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let j=class pu{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Rs(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(\`There is no mark type \${n.type} in this schema\`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pu.none;if(e instanceof pu)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};j.none=[];let Ps=class extends Error{},R=class lr{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Jm(this.content,e+this.openStart,n);return r&&new lr(r,this.openStart,this.openEnd)}removeBetween(e,n){return new lr(Um(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return lr.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new lr(M.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new lr(e,r,i)}};R.empty=new R(M.empty,0,0);function Um(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Um(o.content,e-i-1,n-i-1)))}function Jm(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=Jm(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function sS(t,e,n){if(n.openStart>t.depth)throw new Ps("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ps("Inconsistent open depths");return Hm(t,e,n,0)}function Hm(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=Hm(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return _n(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=lS(n,t);return _n(o,qm(t,s,l,e,r))}else return _n(o,Is(t,e,r))}function Km(t,e){if(!e.type.compatibleContent(t.type))throw new Ps("Cannot join "+e.type.name+" onto "+t.type.name)}function mu(t,e,n){let r=t.node(n);return Km(r,e.node(n)),r}function Vn(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ri(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Vn(t.nodeAfter,r),o++));for(let l=o;l<s;l++)Vn(i.child(l),r);e&&e.depth==n&&e.textOffset&&Vn(e.nodeBefore,r)}function _n(t,e){return t.type.checkContent(e),t.copy(e)}function qm(t,e,n,r,i){let o=t.depth>i&&mu(t,e,i+1),s=r.depth>i&&mu(n,r,i+1),l=[];return Ri(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(Km(o,s),Vn(_n(o,qm(t,e,n,r,i+1)),l)):(o&&Vn(_n(o,Is(t,e,i+1)),l),Ri(e,n,i,l),s&&Vn(_n(s,Is(n,r,i+1)),l)),Ri(r,null,i,l),new M(l)}function Is(t,e,n){let r=[];if(Ri(null,t,n,r),t.depth>n){let i=mu(t,e,n+1);Vn(_n(i,Is(t,e,n+1)),r)}return Ri(e,null,n,r),new M(r)}function lS(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(M.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Zi{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return j.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new As(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Zi(n,r,o)}static resolveCached(e,n){for(let i=0;i<Gl.length;i++){let o=Gl[i];if(o.pos==n&&o.doc==e)return o}let r=Gl[Yl]=Zi.resolve(e,n);return Yl=(Yl+1)%aS,r}}let Gl=[],Yl=0,aS=12;class As{constructor(e,n,r){this.\$from=e,this.\$to=n,this.depth=r}get start(){return this.\$from.before(this.depth+1)}get end(){return this.\$to.after(this.depth+1)}get parent(){return this.\$from.node(this.depth)}get startIndex(){return this.\$from.index(this.depth)}get endIndex(){return this.\$to.indexAfter(this.depth)}}const uS=Object.create(null);let jn=class gu{constructor(e,n,r,i=j.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||M.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Rs(this.attrs,n||e.defaultAttrs||uS)&&j.sameSet(this.marks,r||j.none)}copy(e=null){return e==this.content?this:new gu(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new gu(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return R.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new R(u,i.depth-s,o.depth-s)}replace(e,n,r){return sS(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Zi.resolveCached(this,e)}resolveNoCache(e){return Zi.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Qm(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=M.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=j.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!j.sameSet(e,this.marks))throw new RangeError(\`Invalid collection of marks for node \${this.type.name}: \${this.marks.map(n=>n.type.name)}\`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=M.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};jn.prototype.text=void 0;class zs extends jn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Qm(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new zs(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new zs(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Qm(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Yn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new cS(e,n);if(r.next==null)return Yn.empty;let i=Gm(r);r.next&&r.err("Unexpected trailing text");let o=yS(gS(i));return SS(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return M.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,l.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(\`There's no \${e}th edge in this content match\`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(\`
\`)}}Yn.empty=new Yn(!0);class cS{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|\$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Gm(t){let e=[];do e.push(fS(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fS(t){let e=[];do e.push(dS(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dS(t){let e=mS(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=hS(t,e);else break;return e}function cd(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function hS(t,e){let n=cd(t),r=n;return t.eat(",")&&(t.next!="}"?r=cd(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function pS(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function mS(t){if(t.eat("(")){let e=Gm(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=pS(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function gS(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Ym(t,e){return e-t}function fd(t,e){let n=[];return r(e),n.sort(Ym);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function yS(t){let e=Object.create(null);return n(fd(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);fd(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Yn(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(Ym);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function SS(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Xm(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Zm(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function eg(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new kS(t[n]);return e}let dd=class tg{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=eg(r.attrs),this.defaultAttrs=Xm(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Yn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Zm(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jn(this,this.computeAttrs(e),M.from(n),j.setFrom(r))}createChecked(e=null,n,r){return n=M.from(n),this.checkContent(n),new jn(this,this.computeAttrs(e),n,j.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=M.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(M.empty,!0);return o?new jn(this,e,n.append(o),j.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(\`Invalid content for node \${this.name}: \${e.toString().slice(0,50)}\`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:j.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new tg(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class kS{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ul{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=eg(i.attrs),this.excluded=null;let o=Xm(this.attrs);this.instance=o?new j(this,o):null}create(e=null){return!e&&this.instance?this.instance:new j(this,Zm(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new ul(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class vS{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=pe.from(e.nodes),n.marks=pe.from(e.marks||{}),this.nodes=dd.compile(this.spec.nodes,this),this.marks=ul.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=Yn.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?hd(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:hd(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof dd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new zs(r,r.defaultAttrs,e,j.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return jn.fromJSON(this,e)}markFromJSON(e){return j.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function hd(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class jr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new md(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new md(this,n,!0);return r.addAll(e,n.from,n.to),R.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(CS(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=gd(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=gd(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new jr(e,jr.schemaRules(e)))}}const ng={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rg={ol:!0,ul:!0},bs=1,Fs=2,Pi=4;function pd(t,e,n){return e!=null?(e?bs:0)|(e==="full"?Fs:0):t&&t.whitespace=="pre"?bs|Fs:n&~Pi}class Lo{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=j.none,this.stashMarks=[],this.match=s||(l&Pi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(M.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&bs)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+\$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=M.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(M.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):MS(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ng.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class md{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=pd(null,n.preserveWhitespace,0)|(r?Pi:0);i?o=new Lo(i.type,i.attrs,j.none,j.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Lo(null,null,j.none,j.none,!0,null,s):o=new Lo(e.schema.topNodeType,null,j.none,j.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(ES(r));if(!i)return;let[o,s]=i,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Fs||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&bs)r.options&Fs?n=n.replace(/\r\n?/g,\`
\`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]\$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;rg.hasOwnProperty(r)&&this.parser.normalizeLists&&xS(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:wS.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(ng.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(\`
\`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=j.none,r=j.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=pd(e,i,o.options);o.options&Pi&&o.content.length==0&&(s|=Pi),this.nodes.push(new Lo(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=NS(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function xS(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&rg.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function CS(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ES(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function gd(t){let e={};for(let n in t)e[n]=t[n];return e}function MS(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function NS(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class wt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Xl(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=wt.renderSpec(Xl(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&wt.renderSpec(Xl(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let f=c.indexOf(" ");f>0?l.setAttributeNS(c.slice(0,f),c.slice(f+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:h}=wt.renderSpec(e,f,r);if(l.appendChild(d),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=yd(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return yd(e.marks)}}function yd(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Xl(t){return t.document||window.document}const ig=65535,og=Math.pow(2,16);function TS(t,e){return t+e*og}function Sd(t){return t&ig}function OS(t){return(t-(t&ig))/og}const sg=1,lg=2,Zo=4,ag=8;let yu=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&ag)>0}get deletedBefore(){return(this.delInfo&(sg|Zo))>0}get deletedAfter(){return(this.delInfo&(lg|Zo))>0}get deletedAcross(){return(this.delInfo&Zo)>0}},Xn=class ar{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ar.empty)return ar.empty}recover(e){let n=0,r=Sd(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+OS(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,h=a+i+(d<0?0:c);if(r)return h;let p=e==(n<0?a:f)?null:TS(l/3,e-a),y=e==a?lg:e==f?sg:Zo;return(n<0?e!=a:e!=f)&&(y|=ag),new yu(h,y,p)}i+=c-u}return r?e+i:new yu(e+i,0,null)}touches(e,n){let r=0,i=Sd(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new ar(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ar.empty:new ar(e<0?[0,-e,0]:[0,0,e])}};Xn.empty=new Xn([]);class Ii{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ii(this.maps,this.mirror,e,n)}copy(){return new Ii(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ii;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new yu(e,i,null)}}const Zl=Object.create(null);let Me=class{getMap(){return Xn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Zl[n.stepType];if(!r)throw new RangeError(\`No step type \${n.stepType} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Zl)throw new RangeError("Duplicate use of step JSON ID "+e);return Zl[e]=n,n.prototype.jsonID=e,n}},Re=class di{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new di(e,null)}static fail(e){return new di(null,e)}static fromReplace(e,n,r,i){try{return di.ok(e.replace(n,r,i))}catch(o){if(o instanceof Ps)return di.fail(o.message);throw o}}};function Ic(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Ic(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return M.fromArray(r)}let Ac=class hi extends Me{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new R(Ic(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,o)}invert(){return new ho(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new hi(n.pos,r.pos,this.mark)}merge(e){return e instanceof hi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new hi(n.from,n.to,e.markFromJSON(n.mark))}};Me.jsonID("addMark",Ac);let ho=class pi extends Me{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new R(Ic(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,r)}invert(){return new Ac(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new pi(n.pos,r.pos,this.mark)}merge(e){return e instanceof pi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new pi(n.from,n.to,e.markFromJSON(n.mark))}};Me.jsonID("removeMark",ho);let zc=class mi extends Me{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Re.fromReplace(e,this.pos,this.pos+1,new R(M.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new mi(this.pos,n.marks[i]);return new mi(this.pos,this.mark)}}return new bc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new mi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new mi(n.pos,e.markFromJSON(n.mark))}};Me.jsonID("addNodeMark",zc);let bc=class Su extends Me{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Re.fromReplace(e,this.pos,this.pos+1,new R(M.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new zc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Su(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Su(n.pos,e.markFromJSON(n.mark))}};Me.jsonID("removeNodeMark",bc);let Mt=class Tn extends Me{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&ku(e,this.from,this.to)?Re.fail("Structure replace would overwrite content"):Re.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Xn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Tn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Tn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Tn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?R.empty:new R(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Tn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?R.empty:new R(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Tn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tn(n.from,n.to,R.fromJSON(e,n.slice),!!n.structure)}};Me.jsonID("replace",Mt);let We=class es extends Me{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(ku(e,this.from,this.gapFrom)||ku(e,this.gapTo,this.to)))return Re.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Re.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Re.fromReplace(e,this.from,this.to,r):Re.fail("Content does not fit in gap")}getMap(){return new Xn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new es(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new es(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new es(n.from,n.to,n.gapFrom,n.gapTo,R.fromJSON(e,n.slice),n.insert,!!n.structure)}};Me.jsonID("replaceAround",We);function ku(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function DS(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+a.nodeSize,n),p=r.addToSet(f);for(let y=0;y<f.length;y++)f[y].isInSet(p)||(s&&s.to==d&&s.mark.eq(f[y])?s.to=h:i.push(s=new ho(d,h,f[y])));l&&l.to==d?l.to=h:o.push(l=new Ac(d,h,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function RS(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof ul){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let f=a[c],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new ho(s.from,s.to,s.style)))}function PS(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=s+a.nodeSize,c=r.matchType(a.type);if(!c)o.push(new Mt(s,u,R.empty));else{r=c;for(let f=0;f<a.marks.length;f++)n.allowsMarkType(a.marks[f].type)||t.step(new ho(s,u,a.marks[f]));if(a.isText&&!n.spec.code){let f,d=/\r?\n|\r/g,h;for(;f=d.exec(a.text);)h||(h=new R(M.from(n.schema.text(" ",n.allowedMarks(a.marks))),0,0)),o.push(new Mt(s+f.index,s+f.index+f[0].length,h))}}s=u}if(!r.validEnd){let l=r.fillBefore(M.empty,!0);t.replace(s,s,new R(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function IS(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Qr(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.\$from.node(r),o=t.\$from.index(r),s=t.\$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!IS(i,o,s))break}return null}function AS(t,e,n){let{\$from:r,\$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=M.empty,f=0;for(let p=o,y=!1;p>n;p--)y||r.index(p)>0?(y=!0,c=M.from(r.node(p).copy(c)),f++):a--;let d=M.empty,h=0;for(let p=o,y=!1;p>n;p--)y||i.after(p+1)<i.end(p)?(y=!0,d=M.from(i.node(p).copy(d)),h++):u++;t.step(new We(a,u,s,l,new R(c.append(d),f,h),c.size-f,!0))}function ug(t,e,n=null,r=t){let i=zS(t,e),o=i&&bS(r,e);return o?i.map(kd).concat({type:e,attrs:n}).concat(o.map(kd)):null}function kd(t){return{type:t,attrs:null}}function zS(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function bS(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function FS(t,e,n){let r=M.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=M.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new We(i,o,i,o,new R(r,0,0),n.length,!0))}function LS(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&BS(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let a=t.mapping.slice(o),u=a.map(l,1),c=a.map(l+s.nodeSize,1);return t.step(new We(u,c,u+1,c-1,new R(M.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function BS(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function \$S(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new We(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new R(M.from(s),0,0),1,!0))}function Ir(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let y=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!y.type.validContent(h))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function VS(t,e,n=1,r){let i=t.doc.resolve(e),o=M.empty,s=M.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=M.from(i.node(l).copy(o));let c=r&&r[u];s=M.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new Mt(e,e,new R(o.append(s),n,n),!0))}function rr(t,e){let n=t.resolve(e),r=n.index();return cg(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function cg(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function cl(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&cg(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function _S(t,e,n){let r=new Mt(e-n,e+n,R.empty,!0);t.step(r)}function jS(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function WS(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let f=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(a,a,f[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Fc(t,e,n=e,r=R.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return fg(i,o,r)?new Mt(e,n,r):new US(i,o,r).fit()}function fg(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class US{constructor(e,n,r){this.\$from=e,this.\$to=n,this.unplaced=r,this.frontier=[],this.placed=M.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=M.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.\$from.depth,r=this.\$from,i=this.close(e<0?this.\$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new R(o,s,l);return e>-1?new We(r.pos,e,this.\$to.pos,this.\$to.end(),a,n):a.size||r.pos!=this.\$to.pos?new Mt(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=ea(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,f=null;if(n==1&&(s?u.matchType(s.type)||(f=u.fillBefore(M.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:f};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ea(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new R(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ea(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new R(gi(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new R(gi(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));f=f.matchFragment(i)}let h=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let y=l.child(u),k=f.matchType(y.type);if(!k)break;u++,(u>1||a==0||y.content.size)&&(f=k,c.push(dg(y.mark(d.allowedMarks(y.marks)),u==1?a:0,u==l.childCount?h:-1)))}let p=u==l.childCount;p||(h=-1),this.placed=yi(this.placed,n,M.from(c)),this.frontier[n].match=f,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,k=l;y<h;y++){let m=k.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),k=m.content}this.unplaced=p?e==0?R.empty:new R(gi(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new R(gi(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.\$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ta(this.\$to,this.\$to.depth,e.type,e.match,!1)||this.\$to.depth==this.depth&&(n=this.findCloseLevel(this.\$to))&&n.depth==this.depth)return-1;let{depth:r}=this.\$to,i=this.\$to.after(r);for(;r>1&&i==this.\$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=ta(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=ta(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=yi(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=yi(this.placed,this.depth,M.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(M.empty,!0);n.childCount&&(this.placed=yi(this.placed,this.frontier.length,n))}}function gi(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(gi(t.firstChild.content,e-1,n)))}function yi(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(yi(t.lastChild.content,e-1,n)))}function ea(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function dg(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,dg(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(M.empty,!0)))),t.copy(r)}function ta(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!JS(n,o.content,s)?l:null}function JS(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function HS(t){return t.spec.defining||t.spec.definingForContent}function KS(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(fg(i,o,r))return t.step(new Mt(e,n,r));let s=pg(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(d)>-1?l=d:i.before(d)==h&&s.splice(1,0,-d)}let a=s.indexOf(l),u=[],c=r.openStart;for(let d=r.content,h=0;;h++){let p=d.firstChild;if(u.push(p),h==r.openStart)break;d=p.content}for(let d=c-1;d>=0;d--){let h=u[d],p=HS(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(l)-1)))c=d;else if(p||!h.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+c+1)%(r.openStart+1),p=u[h];if(p)for(let y=0;y<s.length;y++){let k=s[(y+a)%s.length],m=!0;k<0&&(m=!1,k=-k);let g=i.node(k-1),S=i.index(k-1);if(g.canReplaceWith(S,S,p.type,p.marks))return t.replace(i.before(k),m?o.after(k):n,new R(hg(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let h=s[d];h<0||(e=i.before(h),n=o.after(h))}}function hg(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(hg(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(M.empty,!0))}return t}function qS(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=jS(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new R(M.from(r),0,0))}function QS(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=pg(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function pg(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let mg=class ts extends Me{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Re.fromReplace(e,this.pos,this.pos+1,new R(M.from(i),0,n.isLeaf?0:1))}getMap(){return Xn.empty}invert(e){return new ts(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ts(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ts(n.pos,n.attr,n.value)}};Me.jsonID("attr",mg);let gg=class vu extends Me{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Re.ok(r)}getMap(){return Xn.empty}invert(e){return new vu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new vu(n.attr,n.value)}};Me.jsonID("docAttr",gg);let Wr=class extends Error{};Wr=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Wr.prototype=Object.create(Error.prototype);Wr.prototype.constructor=Wr;Wr.prototype.name="TransformError";class GS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ii}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Wr(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=R.empty){let i=Fc(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new R(M.from(r),0,0))}delete(e,n){return this.replace(e,n,R.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return KS(this,e,n,r),this}replaceRangeWith(e,n,r){return qS(this,e,n,r),this}deleteRange(e,n){return QS(this,e,n),this}lift(e,n){return AS(this,e,n),this}join(e,n=1){return _S(this,e,n),this}wrap(e,n){return FS(this,e,n),this}setBlockType(e,n=e,r,i=null){return LS(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return \$S(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new mg(e,n,r)),this}setDocAttribute(e,n){return this.step(new gg(e,n)),this}addNodeMark(e,n){return this.step(new zc(e,n)),this}removeNodeMark(e,n){if(!(n instanceof j)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new bc(e,n)),this}split(e,n=1,r){return VS(this,e,n,r),this}addMark(e,n,r){return DS(this,e,n,r),this}removeMark(e,n,r){return RS(this,e,n,r),this}clearIncompatible(e,n,r){return PS(this,e,n,r),this}}const na=Object.create(null);let F=class{constructor(e,n,r){this.\$anchor=e,this.\$head=n,this.ranges=r||[new YS(e.min(n),e.max(n))]}get anchor(){return this.\$anchor.pos}get head(){return this.\$head.pos}get from(){return this.\$from.pos}get to(){return this.\$to.pos}get \$from(){return this.ranges[0].\$from}get \$to(){return this.ranges[0].\$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].\$from.pos!=e[n].\$to.pos)return!1;return!0}content(){return this.\$from.doc.slice(this.from,this.to,!0)}replace(e,n=R.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{\$from:a,\$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?R.empty:n),l==0&&xd(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{\$from:s,\$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),xd(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new V(e):ur(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?ur(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ur(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Wn(e.node(0))}static atStart(e){return ur(e,e,0,0,1)||new Wn(e)}static atEnd(e){return ur(e,e,e.content.size,e.childCount,-1)||new Wn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=na[n.type];if(!r)throw new RangeError(\`No selection type \${n.type} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in na)throw new RangeError("Duplicate use of selection JSON ID "+e);return na[e]=n,n.prototype.jsonID=e,n}getBookmark(){return V.between(this.\$anchor,this.\$head).getBookmark()}};F.prototype.visible=!0;let YS=class{constructor(e,n){this.\$from=e,this.\$to=n}},vd=!1;function wd(t){!vd&&!t.parent.inlineContent&&(vd=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}let V=class Si extends F{constructor(e,n=e){wd(e),wd(n),super(e,n)}get \$cursor(){return this.\$anchor.pos==this.\$head.pos?this.\$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return F.near(r);let i=e.resolve(n.map(this.anchor));return new Si(i.parent.inlineContent?i:r,r)}replace(e,n=R.empty){if(super.replace(e,n),n==R.empty){let r=this.\$from.marksAcross(this.\$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Si&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Si(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=F.findFrom(n,r,!0)||F.findFrom(n,-r,!0);if(o)n=o.\$head;else return F.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(F.findFrom(e,-r,!0)||F.findFrom(e,r,!0)).\$anchor,e.pos<n.pos!=i<0&&(e=n))),new Si(e,n)}};F.jsonID("text",V);let yg=class Sg{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Sg(e.map(this.anchor),e.map(this.head))}resolve(e){return V.between(e.resolve(this.anchor),e.resolve(this.head))}},A=class ki extends F{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?F.near(o):new ki(o)}content(){return new R(M.from(this.node),0,0)}eq(e){return e instanceof ki&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new XS(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ki(e.resolve(n.anchor))}static create(e,n){return new ki(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};A.prototype.visible=!1;F.jsonID("node",A);let XS=class kg{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new yg(r,r):new kg(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&A.isSelectable(r)?new A(n):F.near(n)}},Wn=class ns extends F{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=R.empty){if(n==R.empty){e.delete(0,e.doc.content.size);let r=F.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ns(e)}map(e){return new ns(e)}eq(e){return e instanceof ns}getBookmark(){return ZS}};F.jsonID("all",Wn);const ZS={map(){return this},resolve(t){return new Wn(t)}};function ur(t,e,n,r,i,o=!1){if(e.inlineContent)return V.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&A.isSelectable(l))return A.create(t,n-(i<0?l.nodeSize:0))}else{let a=ur(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function xd(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Mt||i instanceof We))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(F.near(t.doc.resolve(s),n))}const Cd=1,Bo=2,Ed=4;class ek extends GS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.\$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Cd)&~Bo,this.storedMarks=null,this}get selectionSet(){return(this.updated&Cd)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Bo,this}ensureMarks(e){return j.sameSet(this.storedMarks||this.selection.\$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.\$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.\$head.marks()))}get storedMarksSet(){return(this.updated&Bo)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Bo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.\$from.marks():r.\$from.marksAcross(r.\$to)||j.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(F.near(this.selection.\$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ed,this}get scrolledIntoView(){return(this.updated&Ed)>0}}function Md(t,e){return!e||!t?t:t.bind(e)}let vi=class{constructor(e,n,r){this.name=e,this.init=Md(n.init,r),this.apply=Md(n.apply,r)}};const tk=[new vi("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vi("selection",{init(t,e){return t.selection||F.atStart(e.doc)},apply(t){return t.selection}}),new vi("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.\$cursor?t.storedMarks:null}}),new vi("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ra{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=tk.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vi(r.key,r.spec.state,r))})}}class Er{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Er(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new ek(this)}static create(e){let n=new ra(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Er(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new ra(this.schema,e.plugins),r=n.fields,i=new Er(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields \`doc\` and \`selection\` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new ra(e.schema,e.plugins),o=new Er(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=jn.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=F.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function vg(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=vg(i,e,{})),n[r]=i}return n}let Ut=class{constructor(e){this.spec=e,this.props={},e.props&&vg(e.props,this,this.props),this.key=e.key?e.key.key:wg("plugin")}getState(e){return e[this.key]}};const ia=Object.create(null);function wg(t){return t in ia?t+"\$"+ ++ia[t]:(ia[t]=0,t+"\$")}let Gr=class{constructor(e="key"){this.key=wg(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};const De=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},eo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Nd=null;const Rt=function(t,e,n){let r=Nd||(Nd=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Zn=function(t,e,n,r){return n&&(Td(t,e,n,r,-1)||Td(t,e,n,r,1))},nk=/^(img|br|input|textarea|hr)\$/i;function Td(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:vt(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Lc(t)||nk.test(t.nodeName)||t.contentEditable=="false")return!1;e=De(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?vt(t):0}else return!1}}function vt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function rk(t,e,n){for(let r=e==0,i=e==vt(t);r||i;){if(t==n)return!0;let o=De(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==vt(t)}}function Lc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const fl=function(t){return t.focusNode&&Zn(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function On(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ik(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ok(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Nt=typeof navigator<"u"?navigator:null,Od=typeof document<"u"?document:null,vn=Nt&&Nt.userAgent||"",wu=/Edge\/(\d+)/.exec(vn),xg=/MSIE \d/.exec(vn),xu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vn),je=!!(xg||xu||wu),fn=xg?document.documentMode:xu?+xu[1]:wu?+wu[1]:0,mt=!je&&/gecko\/(\d+)/i.test(vn);mt&&+(/Firefox\/(\d+)/.exec(vn)||[0,0])[1];const Cu=!je&&/Chrome\/(\d+)/.exec(vn),Ce=!!Cu,sk=Cu?+Cu[1]:0,Ie=!je&&!!Nt&&/Apple Computer/.test(Nt.vendor),Ur=Ie&&(/Mobile\/\w+/.test(vn)||!!Nt&&Nt.maxTouchPoints>2),Ye=Ur||(Nt?/Mac/.test(Nt.platform):!1),lk=Nt?/Win/.test(Nt.platform):!1,ct=/Android \d/.test(vn),po=!!Od&&"webkitFontSmoothing"in Od.documentElement.style,ak=po?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function uk(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ot(t,e){return typeof t=="number"?t:t[e]}function ck(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Dd(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=eo(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?uk(o):ck(l),c=0,f=0;if(e.top<u.top+Ot(r,"top")?f=-(u.top-e.top+Ot(i,"top")):e.bottom>u.bottom-Ot(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Ot(i,"top")-u.top:e.bottom-u.bottom+Ot(i,"bottom")),e.left<u.left+Ot(r,"left")?c=-(u.left-e.left+Ot(i,"left")):e.right>u.right-Ot(r,"right")&&(c=e.right-u.right+Ot(i,"right")),c||f)if(a)o.defaultView.scrollBy(c,f);else{let d=l.scrollLeft,h=l.scrollTop;f&&(l.scrollTop+=f),c&&(l.scrollLeft+=c);let p=l.scrollLeft-d,y=l.scrollTop-h;e={left:e.left-p,top:e.top-y,right:e.right-p,bottom:e.bottom-y}}if(a||/^(fixed|sticky)\$/.test(getComputedStyle(s).position))break}}function fk(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Cg(t.dom)}}function Cg(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=eo(r));return e}function dk({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Eg(n,r==0?0:r-e)}function Eg(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let or=null;function hk(t){if(t.setActive)return t.setActive();if(or)return t.focus(or);let e=Cg(t);t.focus(or==null?{get preventScroll(){return or={preventScroll:!0},!0}}:void 0),or||(or=!1,Eg(e,0))}function Mg(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Rt(c).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let y=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(y<r){n=c,r=y,i=y&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&y&&(o=f+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=f+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?pk(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Mg(n,i)}function pk(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ht(r,1);if(o.top!=o.bottom&&Bc(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Bc(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function mk(t,e){let n=t.parentNode;return n&&/^li\$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function gk(t,e,n){let{node:r,offset:i}=Mg(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function yk(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,a.left>r.left||a.top>r.top?i=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Ng(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Bc(e,u))return Ng(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function Sk(t,e){let n=t.dom.ownerDocument,r,i=0,o=ok(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Bc(e,u)||(s=Ng(t.dom,e,u),!s))return null}if(Ie)for(let u=s;r&&u;u=eo(u))u.draggable&&(r=void 0);if(s=mk(s,e),r){if(mt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;po&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=yk(t,r,i,e))}l==null&&(l=gk(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function Rd(t){return t.top<t.bottom||t.left<t.right}function Ht(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Rd(r))return r}return Array.prototype.find.call(n,Rd)||t.getBoundingClientRect()}const kk=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Tg(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=po||mt;if(r.nodeType==3)if(s&&(kk.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Ht(Rt(r,i,i),n);if(mt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ht(Rt(r,i-1,i-1),-1);if(u.top==a.top){let c=Ht(Rt(r,i,i+1),-1);if(c.top!=a.top)return si(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,si(Ht(Rt(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==vt(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return oa(a.getBoundingClientRect(),!1)}if(o==null&&i<vt(r)){let a=r.childNodes[i];if(a.nodeType==1)return oa(a.getBoundingClientRect(),!0)}return oa(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==vt(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Rt(a,vt(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return si(Ht(u,1),!1)}if(o==null&&i<vt(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Rt(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return si(Ht(u,-1),!0)}return si(Ht(r.nodeType==3?Rt(r):r,-n),n>=0)}function si(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function oa(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Og(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function vk(t,e,n){let r=e.selection,i=n=="up"?r.\$from:r.\$to;return Og(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=Tg(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Rt(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const wk=/[\u0590-\u08ac]/;function xk(t,e,n){let{\$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!wk.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:Og(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:y}=t.domSelectionRange(),k=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==y;try{l.collapse(c,f),a&&(a!=c||u!=f)&&l.extend&&l.extend(a,u)}catch{}return d!=null&&(l.caretBidiLevel=d),k})}let Pd=null,Id=null,Ad=!1;function Ck(t,e,n){return Pd==e&&Id==n?Ad:(Pd=e,Id=n,Ad=n=="up"||n=="down"?vk(t,e,n):xk(t,e,n))}const rt=0,zd=1,In=2,Tt=3;class mo{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=rt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>De(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof Rg){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Dg&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?De(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?De(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let f=l;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=De(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=De(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,h=0;d<this.children.length;d++){let p=this.children[d],y=h+p.size;if(o>h&&s<y)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=y}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((mt||Ie)&&e==n){let{node:d,offset:h}=l;if(d.nodeType==3){if(c=!!(h&&d.nodeValue[h-1]==\`
\`),c&&h==d.nodeValue.length)for(let p=d,y;p;p=p.parentNode){if(y=p.nextSibling){y.nodeName=="BR"&&(l=a={node:y.parentNode,offset:De(y)+1});break}let k=p.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let p=d.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(mt&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&Ie)&&Zn(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Zn(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let h=l;l=a,a=h}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?In:zd,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Tt:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?In:Tt}r=s}this.dirty=In}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?In:zd;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Dg extends mo{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==rt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ek extends mo{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class er extends mo{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=wt.renderSpec(document,n.type.spec.toDOM(n,r))),new er(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Tt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Tt&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=rt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=rt}}slice(e,n,r){let i=er.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Nu(o,n,s,r)),e>0&&(o=Nu(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class dn extends mo{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=wt.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Ag(c,r,n),u?a=new Mk(e,n,r,i,c,f||null,d,u,o,s+1):n.isText?new dl(e,n,r,i,c,d,o):new dn(e,n,r,i,c,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>M.empty)}return e}matchesNode(e,n,r){return this.dirty==rt&&e.eq(this.node)&&Mu(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new Tk(this,s&&s.node,e);Rk(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&a.syncToMarks(c==this.node.childCount?j.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,f,d)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,c,f,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,f,h,e)||a.updateNextNode(u,c,f,e,d,i)||a.addNode(u,c,f,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==In)&&(s&&this.protectLocalComposition(e,s),Pg(this.contentDOM,this.children,e),Ur&&Pk(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof V)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=Ik(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,a=Ak(this.node.content,l,r-n,i-n);return a<0?null:{node:s,pos:a,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Ek(this,o,n,i);e.input.compositionNodes.push(s),this.children=Nu(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Tt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=rt}updateOuterDeco(e){if(Mu(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Ig(this.dom,this.nodeDOM,Eu(this.outerDeco,this.node,n),Eu(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function bd(t,e,n,r,i){Ag(r,e,t);let o=new dn(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class dl extends dn{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Tt||this.dirty!=rt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=rt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=rt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new dl(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Tt)}get domAtom(){return!1}}class Rg extends mo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==rt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Mk extends dn{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Tt)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Pg(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=Fd(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof er){let a=r?r.previousSibling:t.lastChild;Pg(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Fd(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ai=function(t){t&&(this.nodeName=t)};Ai.prototype=Object.create(null);const An=[new Ai];function Eu(t,e,n){if(t.length==0)return An;let r=n?An[0]:new Ai,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Ai(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new Ai(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function Ig(t,e,n,r){if(n==An&&r==An)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=An[0]),i=a}Nk(i,l||An[0],s)}return i}function Nk(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Ag(t,e,n){return Ig(t,t,An,Eu(e,n,t.nodeType!=1))}function Mu(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Fd(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Tk{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Ok(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=rt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=er.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Tt&&s.dom==s.contentDOM&&(s.dirty=In),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof dn){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,f,d=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Tt&&Mu(n,a.outerDeco));if(!d&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(a,e,n,r,i,s)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=In,f.updateChildren(i,s+1),f.dirty=rt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=dn.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=dn.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Dg(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof er;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof dl)||/\n\$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s\$/.test(e.node.text))&&((Ie||Ce)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Rg(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Ok(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof er)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function Dk(t,e){return t.type.side-e.type.side}function Rk(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,f;for(;s<i.length&&i[s].to==o;){let k=i[s++];k.widget&&(c?(f||(f=[c])).push(k):c=k)}if(c)if(f){f.sort(Dk);for(let k=0;k<f.length;k++)n(f[k],u,!!a)}else n(c,u,!!a);let d,h;if(a)h=-1,d=a,a=null;else if(u<t.childCount)h=u,d=t.child(u++);else break;for(let k=0;k<l.length;k++)l[k].to<=o&&l.splice(k--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let p=o+d.nodeSize;if(d.isText){let k=p;s<i.length&&i[s].from<k&&(k=i[s].from);for(let m=0;m<l.length;m++)l[m].to<k&&(k=l[m].to);k<p&&(a=d.cut(k-o),d=d.cut(0,k-o),p=k,h=-1)}else for(;s<i.length&&i[s].to<p;)s++;let y=d.isInline&&!d.isLeaf?l.filter(k=>!k.inline):l.slice();r(d,y,e.forChild(o,d),h),o=p}}function Pk(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ik(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=vt(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Ak(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Nu(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function \$c(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(fl(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&A.isSelectable(c)&&i.parent&&!(c.isInline&&rk(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new A(s==f?l:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=Vc(t,a,l,c)}return u}function zg(t){return t.editable?t.hasFocus():Fg(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ft(t,e=!1){let n=t.state.selection;if(bg(t,n),!!zg(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ce){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zn(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)bk(t);else{let{anchor:r,head:i}=n,o,s;Ld&&!(n instanceof V)&&(n.\$from.parent.inlineContent||(o=Bd(t,n.from)),!n.empty&&!n.\$from.parent.inlineContent&&(s=Bd(t,n.to))),t.docView.setSelection(r,i,t.root,e),Ld&&(o&&\$d(o),s&&\$d(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zk(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Ld=Ie||Ce&&sk<63;function Bd(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ie&&i&&i.contentEditable=="false")return sa(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return sa(i);if(o)return sa(o)}}function sa(t){return t.contentEditable="true",Ie&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function \$d(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function zk(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!zg(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function bk(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,De(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&je&&fn<=11&&(r.disabled=!0,r.disabled=!1)}function bg(t,e){if(e instanceof A){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Vd(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Vd(t)}function Vd(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Vc(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||V.between(e,n,r)}function _d(t){return t.editable&&!t.hasFocus()?!1:Fg(t)}function Fg(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Fk(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Zn(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Tu(t,e){let{\$anchor:n,\$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&F.findFrom(o,e)}function Qt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function jd(t,e,n){let r=t.state.selection;if(r instanceof V)if(n.indexOf("s")>-1){let{\$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Qt(t,new V(r.\$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Tu(t.state,e);return i&&i instanceof A?Qt(t,i):!1}else if(!(Ye&&n.indexOf("m")>-1)){let i=r.\$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?A.isSelectable(o)?Qt(t,new A(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):po?Qt(t,new V(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof A&&r.node.isInline)return Qt(t,new V(e>0?r.\$to:r.\$from));{let i=Tu(t.state,e);return i?Qt(t,i):!1}}}function Ls(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function zi(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function sr(t,e){return e<0?Lk(t):Bk(t)}function Lk(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(mt&&n.nodeType==1&&r<Ls(n)&&zi(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(zi(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(Lg(n))break;{let l=n.previousSibling;for(;l&&zi(l,-1);)i=n.parentNode,o=De(l),l=l.previousSibling;if(l)n=l,r=Ls(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Ou(t,n,r):i&&Ou(t,i,o)}function Bk(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ls(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(zi(l,1))o=n,s=++r;else break}else{if(Lg(n))break;{let l=n.nextSibling;for(;l&&zi(l,1);)o=l.parentNode,s=De(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Ls(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Ou(t,o,s)}function Lg(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function \$k(t,e){for(;t&&e==t.childNodes.length&&!Lc(t);)e=De(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Vk(t,e){for(;t&&!e&&!Lc(t);)e=De(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ou(t,e,n){if(e.nodeType!=3){let o,s;(s=\$k(e,n))?(e=s,n=0):(o=Vk(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(fl(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ft(t)},50)}function Wd(t,e){let n=t.state.doc.resolve(e);if(!(Ce||lk)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Ud(t,e,n){let r=t.state.selection;if(r instanceof V&&!r.empty||n.indexOf("s")>-1||Ye&&n.indexOf("m")>-1)return!1;let{\$from:i,\$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Tu(t.state,e);if(s&&s instanceof A)return Qt(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Wn?F.near(s,e):F.findFrom(s,e);return l?Qt(t,l):!1}return!1}function Jd(t,e){if(!(t.state.selection instanceof V))return!0;let{\$head:n,\$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Hd(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function _k(t){if(!Ie||t.state.selection.\$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Hd(t,r,"true"),setTimeout(()=>Hd(t,r,"false"),20)}return!1}function jk(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Wk(t,e){let n=e.keyCode,r=jk(e);if(n==8||Ye&&n==72&&r=="c")return Jd(t,-1)||sr(t,-1);if(n==46&&!e.shiftKey||Ye&&n==68&&r=="c")return Jd(t,1)||sr(t,1);if(n==13||n==27)return!0;if(n==37||Ye&&n==66&&r=="c"){let i=n==37?Wd(t,t.state.selection.from)=="ltr"?-1:1:-1;return jd(t,i,r)||sr(t,i)}else if(n==39||Ye&&n==70&&r=="c"){let i=n==39?Wd(t,t.state.selection.from)=="ltr"?1:-1:1;return jd(t,i,r)||sr(t,i)}else{if(n==38||Ye&&n==80&&r=="c")return Ud(t,-1,r)||sr(t,-1);if(n==40||Ye&&n==78&&r=="c")return _k(t)||Ud(t,1,r)||sr(t,1);if(r==(Ye?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Bg(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||wt.fromSchema(t.state.schema),l=Ug(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Wg[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=l.createElement(c[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",\`\${i} \${o}\${f?\` -\${f}\`:""} \${JSON.stringify(n)}\`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,\`

\`);return{dom:a,text:d}}function \$g(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new R(M.from(t.state.schema.text(e.replace(/\r\n?/g,\`
\`))),0,0):R.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)l=f;else{let d=i.marks(),{schema:h}=t.state,p=wt.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let k=s.appendChild(document.createElement("p"));y&&k.appendChild(p.serializeNode(h.text(y,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),s=Hk(n),po&&Kk(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||jr.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!Uk.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=qk(Kd(l,+c[1],+c[2]),c[4]);else if(l=R.maxOpen(Jk(l.content,i),!0),l.openStart||l.openEnd){let f=0,d=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;d<l.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);l=Kd(l,f,d)}return t.someProp("transformPasted",f=>{l=f(l,t)}),l}const Uk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)\$/i;function Jk(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&_g(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=jg(s[s.length-1],o.length));let c=Vg(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return M.from(s)}return t}function Vg(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,M.from(t));return t}function _g(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=_g(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(M.from(Vg(n,t,i+1))))}}function jg(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jg(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(M.empty,!0);return t.copy(n.append(r))}function Du(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=Du(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(M.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Kd(t,e,n){return e<t.openStart&&(t=new R(Du(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new R(Du(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Wg={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qd=null;function Ug(){return qd||(qd=document.implementation.createHTMLDocument("title"))}function Hk(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Ug().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Wg[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Kk(t){let e=t.querySelectorAll(Ce?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function qk(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=M.from(a.create(r[l+1],i)),o++,s++}return new R(i,o,s)}const Ae={},ze={},Qk={touchstart:!0,touchmove:!0};class Gk{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Yk(t){for(let e in Ae){let n=Ae[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Zk(t,r)&&!_c(t,r)&&(t.editable||!(r.type in ze))&&n(t,r)},Qk[e]?{passive:!0}:void 0)}Ie&&t.dom.addEventListener("input",()=>null),Ru(t)}function tn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Xk(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Ru(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>_c(t,r))})}function _c(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Zk(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ev(t,e){!_c(t,e)&&Ae[e.type]&&(t.editable||!(e.type in ze))&&Ae[e.type](t,e)}ze.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Hg(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ct&&Ce&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ur&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,On(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Wk(t,n)?n.preventDefault():tn(t,"key")};ze.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ze.keypress=(t,e)=>{let n=e;if(Hg(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ye&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof V)||!r.\$from.sameParent(r.\$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.\$from.pos,r.\$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function hl(t){return{left:t.clientX,top:t.clientY}}function tv(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function jc(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ar(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function nv(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&A.isSelectable(r)?(Ar(t,new A(n),"pointer"),!0):!1}function rv(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof A&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(A.isSelectable(l)){r&&n.\$from.depth>0&&s>=n.\$from.depth&&o.before(n.\$from.depth+1)==n.\$from.pos?i=o.before(n.\$from.depth):i=o.before(s);break}}return i!=null?(Ar(t,A.create(t.state.doc,i),"pointer"),!0):!1}function iv(t,e,n,r,i){return jc(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?rv(t,n):nv(t,n))}function ov(t,e,n,r){return jc(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function sv(t,e,n,r){return jc(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||lv(t,n,r)}function lv(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ar(t,V.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Ar(t,V.create(r,l+1,l+1+s.content.size),"pointer");else if(A.isSelectable(s))Ar(t,A.create(r,l),"pointer");else continue;return!0}}function Wc(t){return Bs(t)}const Jg=Ye?"metaKey":"ctrlKey";Ae.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Wc(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&tv(n,t.input.lastClick)&&!n[Jg]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(hl(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new av(t,s,n,!!r)):(o=="doubleClick"?ov:sv)(t,s.pos,s.inside,n)?n.preventDefault():tn(t,"pointer"))};class av{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Jg],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof A&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ft(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hl(e))),this.updateAllowDefault(e),this.allowDefault||!n?tn(this.view,"pointer"):iv(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ie&&this.mightDrag&&!this.mightDrag.node.isAtom||Ce&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ar(this.view,F.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):tn(this.view,"pointer")}move(e){this.updateAllowDefault(e),tn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ae.touchstart=t=>{t.input.lastTouch=Date.now(),Wc(t),tn(t,"pointer")};Ae.touchmove=t=>{t.input.lastTouch=Date.now(),tn(t,"pointer")};Ae.contextmenu=t=>Wc(t);function Hg(t,e){return t.composing?!0:Ie&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const uv=ct?5e3:-1;ze.compositionstart=ze.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.\$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Bs(t,!0),t.markCursor=null;else if(Bs(t),mt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}Kg(t,uv)};ze.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Kg(t,20))};function Kg(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Bs(t),e))}function qg(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=cv());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function cv(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Bs(t,e=!1){if(!(ct&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),qg(t),e||t.docView&&t.docView.dirty){let n=\$c(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function fv(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const to=je&&fn<15||Ur&&ak<604;Ae.copy=ze.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=to?null:n.clipboardData,s=r.content(),{dom:l,text:a}=Bg(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):fv(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function dv(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function hv(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.\$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?no(t,r.value,null,i,e):no(t,r.textContent,r.innerHTML,i,e)},50)}function no(t,e,n,r,i){let o=\$g(t,e,n,r,t.state.selection.\$from);if(t.someProp("handlePaste",a=>a(t,i,o||R.empty)))return!0;if(!o)return!1;let s=dv(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Qg(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ze.paste=(t,e)=>{let n=e;if(t.composing&&!ct)return;let r=to?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&no(t,Qg(r),r.getData("text/html"),i,n)?n.preventDefault():hv(t,n)};class Gg{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Yg=Ye?"altKey":"ctrlKey";Ae.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(hl(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof A?i.to-1:i.to))){if(r&&r.mightDrag)s=A.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&(s=A.create(t.state.doc,c.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u}=Bg(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(to?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",to||n.dataTransfer.setData("text/plain",u),t.dragging=new Gg(l,!n[Yg],s)};Ae.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ze.dragover=ze.dragenter=(t,e)=>e.preventDefault();ze.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(hl(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=\$g(t,Qg(n.dataTransfer),to?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[Yg]);if(t.someProp("handleDrop",p=>p(t,n,s||R.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?WS(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(a),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&A.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new A(h));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((y,k,m,g)=>p=g),u.setSelection(Vc(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Ae.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ft(t)},20))};Ae.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ae.beforeinput=(t,e)=>{if(Ce&&ct&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,On(8,"Backspace")))))return;let{\$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ze)Ae[t]=ze[t];function ro(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class \$s{constructor(e,n){this.toDOM=e,this.spec=n||Un,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new tt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof \$s&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ro(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class hn{constructor(e,n){this.attrs=e,this.spec=n||Un}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new tt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof hn&&ro(this.attrs,e.attrs)&&ro(this.spec,e.spec)}static is(e){return e.type instanceof hn}destroy(){}}class Uc{constructor(e,n){this.attrs=e,this.spec=n||Un}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new tt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Uc&&ro(this.attrs,e.attrs)&&ro(this.spec,e.spec)}destroy(){}}class tt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new tt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new tt(e,e,new \$s(n,r))}static inline(e,n,r,i){return new tt(e,n,new hn(r,i))}static node(e,n,r,i){return new tt(e,n,new Uc(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hn}get widget(){return this.type instanceof \$s}}const cr=[],Un={};class ne{constructor(e,n){this.local=e.length?e:cr,this.children=n.length?n:cr}static create(e,n){return n.length?Vs(n,e,0,Un):we}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==we||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Un)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?pv(this.children,s||[],e,n,r,i,o):s?new ne(s.sort(Jn),cr):we}add(e,n){return n.length?this==we?ne.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=Zg(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Vs(c,l,u+1,Un)),o+=3}});let s=Xg(o?ey(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new ne(s.length?this.local.concat(s).sort(Jn):this.local,i||this.children)}remove(e){return e.length==0||this==we?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>l&&f.to<a&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=we?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ne(i,r):we}forChild(e,n){if(this==we)return this;if(n.isLeaf)return ne.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof hn){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new ne(i.sort(Jn),cr);return r?new Xt([l,r]):l}return r||we}eq(e){if(this==e)return!0;if(!(e instanceof ne)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Jc(this.localsInner(e))}localsInner(e){if(this==we)return cr;if(e.inlineContent||!this.local.some(hn.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof hn||n.push(this.local[r]);return n}}ne.empty=new ne([],[]);ne.removeOverlap=Jc;const we=ne.empty;class Xt{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Un));return Xt.from(r)}forChild(e,n){if(n.isLeaf)return ne.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=we&&(o instanceof Xt?r=r.concat(o.members):r.push(o))}return Xt.from(r)}eq(e){if(!(e instanceof Xt)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Jc(r?n:n.sort(Jn)):cr}static from(e){switch(e.length){case 0:return we;case 1:return e[0];default:return new Xt(e.every(n=>n instanceof ne)?e:e.reduce((n,r)=>n.concat(r instanceof ne?r:r.members),[]))}}}function pv(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,p,y)=>{let k=y-p-(h-d);for(let m=0;m<l.length;m+=3){let g=l[m+1];if(g<0||d>g+c-f)continue;let S=l[m]+c-f;h>=S?l[m+1]=d<=S?-2:-1:d>=c&&k&&(l[m]+=k,l[m+1]+=k)}f+=k}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){a=!0;continue}let d=n.map(t[u+1]+o,-1),h=d-i,{index:p,offset:y}=r.content.findIndex(f),k=r.maybeChild(p);if(k&&y==f&&y+k.nodeSize==h){let m=l[u+2].mapInner(n,k,c+1,t[u]+o+1,s);m!=we?(l[u]=f,l[u+1]=h,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=mv(l,t,e,n,i,o,s),c=Vs(u,r,0,s);e=c.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<l.length&&l[d]<h;)d+=3;l.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new ne(e.sort(Jn),l)}function Xg(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new tt(i.from+e,i.to+e,i.type))}return n}function mv(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function Zg(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function ey(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Vs(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=Zg(t,l,a+n);if(u){o=!0;let c=Vs(u,l,n+a+1,r);c!=we&&i.push(a,a+l.nodeSize,c)}});let s=Xg(o?ey(t):t,-n).sort(Jn);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new ne(s,i):we}function Jn(t,e){return t.from-e.from||t.to-e.to}function Jc(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Qd(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Qd(e,i,r.copy(o.from,r.to)));break}}}return e}function Qd(t,e,n){for(;e<t.length&&Jn(n,t[e])>0;)e++;t.splice(e,0,n)}function la(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=we&&e.push(r)}),t.cursorWrapper&&e.push(ne.create(t.state.doc,[t.cursorWrapper.deco])),Xt.from(e)}const gv={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yv=je&&fn<=11;class Sv{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kv{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Sv,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);je&&fn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),yv&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gv)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_d(this.view)){if(this.suppressingSelectionUpdates)return Ft(this.view);if(je&&fn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=eo(o))n.add(o);for(let o=e.anchorNode;o;o=eo(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&_d(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],a);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(l=!0))}if(mt&&a.length>1){let c=a.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&fl(r)&&(u=\$c(e))&&u.eq(F.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ft(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),vv(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ft(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(je&&fn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=i&&i.parentNode==e.target?De(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?De(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Gd=new WeakMap,Yd=!1;function vv(t){if(!Gd.has(t)&&(Gd.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=mt,Yd)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Yd=!0}}function wv(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Zn(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function xv(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],fl(a)||u.push({node:a.focusNode,offset:a.focusOffset})),Ce&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let m=r.childNodes[k-1],g=m.pmViewDesc;if(m.nodeName=="BR"&&!g){o=k;break}if(!g||g.size)break}let f=t.state.doc,d=t.someProp("domParser")||jr.fromSchema(t.state.schema),h=f.resolve(s),p=null,y=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Cv,context:h});if(u&&u[0].pos!=null){let k=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=k),p={anchor:k+s,head:m+s}}return{doc:y,sel:p,from:s,to:l}}function Cv(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ie&&/^(ul|ol)\$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ie&&/^(tr|table)\$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ev=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)\$/i;function Mv(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=\$c(t,P);if(I&&!t.state.selection.eq(I)){if(Ce&&ct&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",xn=>xn(t,On(13,"Enter"))))return;let Se=t.state.tr.setSelection(I);P=="pointer"?Se.setMeta("pointer",!0):P=="key"&&Se.scrollIntoView(),o&&Se.setMeta("composition",o),t.dispatch(Se)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=xv(t,e,n),c=t.state.doc,f=c.slice(u.from,u.to),d,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,h="end"):(d=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=Ov(f.content,u.doc.content,u.from,d,h);if((Ur&&t.input.lastIOSEnter>Date.now()-225||ct)&&i.some(P=>P.nodeType==1&&!Ev.test(P.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",P=>P(t,On(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof V&&!a.empty&&a.\$head.sameParent(a.\$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let P=Xd(t,t.state.doc,u.sel);if(P&&!P.eq(t.state.selection)){let I=t.state.tr.setSelection(P);o&&I.setMeta("composition",o),t.dispatch(I)}}return}if(Ce&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let P=p.endB-p.start;u.sel={anchor:u.sel.anchor+P,head:u.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof V&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),je&&fn<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let y=u.doc.resolveNoCache(p.start-u.from),k=u.doc.resolveNoCache(p.endB-u.from),m=c.resolve(p.start),g=y.sameParent(k)&&y.parent.inlineContent&&m.end()>=p.endA,S;if((Ur&&t.input.lastIOSEnter>Date.now()-225&&(!g||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!g&&y.pos<u.doc.content.size&&!y.sameParent(k)&&(S=F.findFrom(u.doc.resolve(y.pos+1),1,!0))&&S.head==k.pos)&&t.someProp("handleKeyDown",P=>P(t,On(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&Tv(c,p.start,p.endA,y,k)&&t.someProp("handleKeyDown",P=>P(t,On(8,"Backspace")))){ct&&Ce&&t.domObserver.suppressSelectionUpdates();return}Ce&&ct&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),ct&&!g&&y.start()!=k.start()&&k.parentOffset==0&&y.depth==k.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,k=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,On(13,"Enter"))})},20));let v=p.start,x=p.endA,w,E,N;if(g){if(y.pos==k.pos)je&&fn<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ft(t),20)),w=t.state.tr.delete(v,x),E=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(N=Nv(y.parent.content.cut(y.parentOffset,k.parentOffset),m.parent.content.cut(m.parentOffset,p.endA-m.start()))))w=t.state.tr,N.type=="add"?w.addMark(v,x,N.mark):w.removeMark(v,x,N.mark);else if(y.parent.child(y.index()).isText&&y.index()==k.index()-(k.textOffset?0:1)){let P=y.parent.textBetween(y.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",I=>I(t,v,x,P)))return;w=t.state.tr.insertText(P,v,x)}}if(w||(w=t.state.tr.replace(v,x,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let P=Xd(t,w.doc,u.sel);P&&!(Ce&&ct&&t.composing&&P.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==v||P.head==w.mapping.map(x)-1)||je&&P.empty&&P.head==v)&&w.setSelection(P)}E&&w.ensureMarks(E),o&&w.setMeta("composition",o),t.dispatch(w.scrollIntoView())}function Xd(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Vc(t,e.resolve(n.anchor),e.resolve(n.head))}function Nv(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(M.from(u).eq(t))return{mark:l,type:s}}function Tv(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||aa(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(aa(o,!0,!0));return!s.parent.isTextblock||s.pos>n||aa(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function aa(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Ov(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&Zd(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&Zd(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function Zd(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Dv{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Gk,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(ih),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=nh(this),th(this),this.nodeViews=rh(this),this.docView=bd(this.state.doc,eh(this),la(this),this.dom,this),this.domObserver=new kv(this,(r,i,o,s)=>Mv(this,r,i,o,s)),this.domObserver.start(),Yk(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ru(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ih),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(qg(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=rh(this);Pv(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Ru(this),this.editable=nh(this),th(this);let a=la(this),u=eh(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,a);(f||!e.selection.eq(i.selection))&&(s=!0);let d=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&fk(this);if(s){this.domObserver.stop();let h=f&&(je||Ce)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Rv(i.selection,e.selection);if(f){let p=Ce?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=bd(e.doc,u,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Fk(this))?Ft(this,h):(bg(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&dk(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof A){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Dd(this,n.getBoundingClientRect(),e)}else Dd(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Gg(e.slice,e.move,i<0?void 0:A.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(je){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&hk(this.dom),Ft(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Sk(this,e)}coordsAtPos(e,n=1){return Tg(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Ck(this,n||this.state,e)}pasteHTML(e,n){return no(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return no(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Xk(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],la(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ev(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Ie&&this.root.nodeType===11&&ik(this.dom.ownerDocument)==this.dom?wv(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function eh(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[tt.node(0,t.state.doc.content.size,e)]}function th(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:tt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function nh(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Rv(t,e){let n=Math.min(t.\$anchor.sharedDepth(t.head),e.\$anchor.sharedDepth(e.head));return t.\$anchor.start(n)!=e.\$anchor.start(n)}function rh(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Pv(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function ih(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var gn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\",221:"]",222:"'"},_s={48:")",49:"!",50:"@",51:"#",52:"\$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Iv=typeof navigator<"u"&&/Mac/.test(navigator.platform),Av=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var me=0;me<10;me++)gn[48+me]=gn[96+me]=String(me);for(var me=1;me<=24;me++)gn[me+111]="F"+me;for(var me=65;me<=90;me++)gn[me]=String.fromCharCode(me+32),_s[me]=String.fromCharCode(me);for(var ua in gn)_s.hasOwnProperty(ua)||(_s[ua]=gn[ua]);function zv(t){var e=Iv&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Av&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_s:gn)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const bv=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Fv(t){let e=t.split(/-(?!\$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)\$/i.test(a))s=!0;else if(/^a(lt)?\$/i.test(a))r=!0;else if(/^(c|ctrl|control)\$/i.test(a))i=!0;else if(/^s(hift)?\$/i.test(a))o=!0;else if(/^mod\$/i.test(a))bv?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Lv(t){let e=Object.create(null);for(let n in t)e[Fv(n)]=t[n];return e}function ca(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Bv(t){return new Ut({props:{handleKeyDown:\$v(t)}})}function \$v(t){let e=Lv(t);return function(n,r){let i=zv(r),o,s=e[ca(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[ca(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=gn[r.keyCode])&&o!=i){let l=e[ca(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const Vv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function _v(t,e){let{\$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const jv=(t,e,n)=>{let r=_v(t,n);if(!r)return!1;let i=ty(r);if(!i){let s=r.blockRange(),l=s&&Qr(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&iy(t,i,e))return!0;if(r.parent.content.size==0&&(Jr(o,"end")||A.isSelectable(o))){let s=Fc(t.doc,r.before(),r.after(),R.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Jr(o,"end")?F.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):A.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Jr(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Wv=(t,e,n)=>{let{\$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=ty(r)}let s=o&&o.nodeBefore;return!s||!A.isSelectable(s)?!1:(e&&e(t.tr.setSelection(A.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function ty(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Uv(t,e){let{\$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Jv=(t,e,n)=>{let r=Uv(t,n);if(!r)return!1;let i=ny(r);if(!i)return!1;let o=i.nodeAfter;if(iy(t,i,e))return!0;if(r.parent.content.size==0&&(Jr(o,"start")||A.isSelectable(o))){let s=Fc(t.doc,r.before(),r.after(),R.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Jr(o,"start")?F.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):A.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Hv=(t,e,n)=>{let{\$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=ny(r)}let s=o&&o.nodeAfter;return!s||!A.isSelectable(s)?!1:(e&&e(t.tr.setSelection(A.create(t.doc,o.pos)).scrollIntoView()),!0)};function ny(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Kv=(t,e)=>{let n=t.selection,r=n instanceof A,i;if(r){if(n.node.isTextblock||!rr(t.doc,n.from))return!1;i=n.from}else if(i=cl(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(A.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},qv=(t,e)=>{let n=t.selection,r;if(n instanceof A){if(n.node.isTextblock||!rr(t.doc,n.to))return!1;r=n.to}else if(r=cl(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Qv=(t,e)=>{let{\$from:n,\$to:r}=t.selection,i=n.blockRange(r),o=i&&Qr(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},Gv=(t,e)=>{let{\$head:n,\$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(\`
\`).scrollIntoView()),!0)};function ry(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Yv=(t,e)=>{let{\$head:n,\$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=ry(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(F.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Xv=(t,e)=>{let n=t.selection,{\$from:r,\$to:i}=n;if(n instanceof Wn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=ry(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(V.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},Zv=(t,e)=>{let{\$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ir(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Qr(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},ew=(t,e)=>{let{\$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(A.create(t.doc,i))),!0)};function tw(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||rr(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function iy(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(tw(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=M.empty;for(let y=o.length-1;y>=0;y--)d=M.from(o[y].create(null,d));d=M.from(r.copy(d));let h=t.tr.step(new We(e.pos-1,f,e.pos,f,new R(d,1,0),o.length,!0)),p=f+2*o.length;rr(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let a=F.findFrom(e,1),u=a&&a.\$from.blockRange(a.\$to),c=u&&Qr(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Jr(i,"start",!0)&&Jr(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(n){let y=M.empty;for(let m=d.length-1;m>=0;m--)y=M.from(d[m].copy(y));let k=t.tr.step(new We(e.pos-d.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new R(y,d.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function oy(t){return function(e,n){let r=e.selection,i=t<0?r.\$from:r.\$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(V.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const nw=oy(-1),rw=oy(1);function iw(t,e=null){return function(n,r){let{\$from:i,\$to:o}=n.selection,s=i.blockRange(o),l=s&&ug(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function oh(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{\$from:{pos:s},\$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{\$from:{pos:l},\$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ow(t,e=null){return function(n,r){let{\$from:i,\$to:o}=n.selection,s=i.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new As(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new As(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=ug(a,t,e,s);return u?(r&&r(sw(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function sw(t,e,n,r,i){let o=M.empty;for(let c=n.length-1;c>=0;c--)o=M.from(n[c].type.create(n[c].attrs,o));t.step(new We(e.start-(r?2:0),e.end,e.start,e.end,new R(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let l=n.length-s,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&Ir(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function lw(t){return function(e,n){let{\$from:r,\$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?aw(e,n,t,o):uw(e,n,o):!0:!1}}function aw(t,e,n,r){let i=t.tr,o=r.end,s=r.\$to.end(r.depth);o<s&&(i.step(new We(o-1,s,o,s,new R(M.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new As(i.doc.resolve(r.\$from.pos),i.doc.resolve(s),r.depth));const l=Qr(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(o,-1)-1;return rr(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function uw(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,y=n.startIndex;p>y;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?M.empty:M.from(i))))return!1;let f=o.pos,d=f+s.nodeSize;return r.step(new We(f-(l?1:0),d+(a?1:0),f+1,d-1,new R((l?M.empty:M.from(i.copy(M.empty))).append(a?M.empty:M.from(i.copy(M.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function cw(t){return function(e,n){let{\$from:r,\$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=M.from(u?t.create():null),f=new R(M.from(t.create(null,M.from(l.type.create(null,c)))),u?3:1,0),d=o.start,h=o.end;n(e.tr.step(new We(d-(u?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function pl(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class ml{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const f=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...y)=>{const k=this.buildProps(u,n),m=h(...y)(k);return l.push(m),f}])),run:c};return f}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:pl({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class fw{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function D(t,e,n){return t.config[e]===void 0&&t.parent?D(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?D(t.parent,e,n):null}):t.config[e]}function gl(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function sy(t){const e=[],{nodeExtensions:n,markExtensions:r}=gl(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=D(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,h])=>{e.push({type:f,name:d,attribute:{...o,...h}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=D(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:s.name,name:c,attribute:d})})}),e}function de(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(\`There is no node type named '\${t}'. Maybe you forgot to add the extension?\`);return e.nodes[t]}return t}function Hc(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Pu(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Hc(n,r),{})}function ly(t){return typeof t=="function"}function B(t,e=void 0,...n){return ly(t)?e?t.bind(e)(...n):t(...n):t}function dw(t={}){return Object.keys(t).length===0&&t.constructor===Object}function hw(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+\$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function sh(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):hw(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function lh(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&dw(n)?!1:n!=null))}function pw(t,e){var n;const r=sy(t),{nodeExtensions:i,markExtensions:o}=gl(t),s=(n=i.find(u=>D(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(m=>m.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((m,g)=>{const S=D(g,"extendNodeSchema",f);return{...m,...S?S(u):{}}},{}),h=lh({...d,content:B(D(u,"content",f)),marks:B(D(u,"marks",f)),group:B(D(u,"group",f)),inline:B(D(u,"inline",f)),atom:B(D(u,"atom",f)),selectable:B(D(u,"selectable",f)),draggable:B(D(u,"draggable",f)),code:B(D(u,"code",f)),defining:B(D(u,"defining",f)),isolating:B(D(u,"isolating",f)),attrs:Object.fromEntries(c.map(m=>{var g;return[m.name,{default:(g=m==null?void 0:m.attribute)===null||g===void 0?void 0:g.default}]}))}),p=B(D(u,"parseHTML",f));p&&(h.parseDOM=p.map(m=>sh(m,c)));const y=D(u,"renderHTML",f);y&&(h.toDOM=m=>y({node:m,HTMLAttributes:Pu(m,c)}));const k=D(u,"renderText",f);return k&&(h.toText=k),[u.name,h]})),a=Object.fromEntries(o.map(u=>{const c=r.filter(k=>k.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((k,m)=>{const g=D(m,"extendMarkSchema",f);return{...k,...g?g(u):{}}},{}),h=lh({...d,inclusive:B(D(u,"inclusive",f)),excludes:B(D(u,"excludes",f)),group:B(D(u,"group",f)),spanning:B(D(u,"spanning",f)),code:B(D(u,"code",f)),attrs:Object.fromEntries(c.map(k=>{var m;return[k.name,{default:(m=k==null?void 0:k.attribute)===null||m===void 0?void 0:m.default}]}))}),p=B(D(u,"parseHTML",f));p&&(h.parseDOM=p.map(k=>sh(k,c)));const y=D(u,"renderHTML",f);return y&&(h.toDOM=k=>y({mark:k,HTMLAttributes:Pu(k,c)})),[u.name,h]}));return new vS({topNode:s,nodes:l,marks:a})}function fa(t,e){return e.nodes[t]||e.marks[t]||null}function ah(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const mw=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-o))}),n};function Kc(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const gw=(t,e)=>{if(Kc(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function da(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const f=mw(u)+o;return s.forEach(d=>{if(c)return;const h=gw(f,d.find);if(!h)return;const p=a.state.tr,y=pl({state:a.state,transaction:p}),k={from:r-(h[0].length-o.length),to:i},{commands:m,chain:g,can:S}=new ml({editor:n,state:y});d.handler({state:y,range:k,match:h,commands:m,chain:g,can:S})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:i,text:o}),a.dispatch(p),c=!0)}),c}function yw(t){const{editor:e,rules:n}=t,r=new Ut({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return da({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{\$cursor:o}=i.state.selection;o&&da({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{\$cursor:s}=i.state.selection;return s?da({editor:e,from:s.pos,to:s.pos,text:\`
\`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Sw(t){return typeof t=="number"}const kw=(t,e,n)=>{if(Kc(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function vw(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:u,can:c}=new ml({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const y=Math.max(r,p),k=Math.min(i,p+h.content.size),m=h.textBetween(y-p,k-p,void 0,"￼");kw(m,o.find,s).forEach(S=>{if(S.index===void 0)return;const v=y+S.index+1,x=v+S[0].length,w={from:n.tr.mapping.map(v),to:n.tr.mapping.map(x)},E=o.handler({state:n,range:w,match:S,commands:a,chain:u,can:c,pasteEvent:s,dropEvent:l});f.push(E)})}),f.every(h=>h!==null)}function ww(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=new ClipboardEvent("paste"),l=new DragEvent("drop");return n.map(u=>new Ut({view(c){const f=d=>{var h;r=!((h=c.dom.parentElement)===null||h===void 0)&&h.contains(d.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(c,f)=>(o=r===c.dom.parentElement,l=f,!1),paste:(c,f)=>{var d;const h=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return s=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(c,f,d)=>{const h=c[0],p=h.getMeta("uiEvent")==="paste"&&!i,y=h.getMeta("uiEvent")==="drop"&&!o;if(!p&&!y)return;const k=f.doc.content.findDiffStart(d.doc.content),m=f.doc.content.findDiffEnd(d.doc.content);if(!Sw(k)||!m||k===m.b)return;const g=d.tr,S=pl({state:d,transaction:g});if(!(!vw({editor:e,state:S,from:Math.max(k-1,0),to:m.b-1,rule:u,pasteEvent:s,dropEvent:l})||!g.steps.length))return l=new DragEvent("drop"),s=new ClipboardEvent("paste"),g}}))}function xw(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Mr{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Mr.resolve(e),this.schema=pw(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:fa(r.name,this.schema)};r.type==="mark"&&(!((i=B(D(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=D(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=D(r,"onCreate",o);l&&this.editor.on("create",l);const a=D(r,"onUpdate",o);a&&this.editor.on("update",a);const u=D(r,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const c=D(r,"onTransaction",o);c&&this.editor.on("transaction",c);const f=D(r,"onFocus",o);f&&this.editor.on("focus",f);const d=D(r,"onBlur",o);d&&this.editor.on("blur",d);const h=D(r,"onDestroy",o);h&&this.editor.on("destroy",h)})}static resolve(e){const n=Mr.sort(Mr.flatten(e)),r=xw(n.map(i=>i.name));return r.length&&console.warn(\`[tiptap warn]: Duplicate extension names found: [\${r.map(i=>\`'\${i}'\`).join(", ")}]. This can lead to issues.\`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=D(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=D(r,"priority")||100,s=D(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:fa(n.name,this.schema)},i=D(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Mr.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:fa(s.name,this.schema)},a=[],u=D(s,"addKeyboardShortcuts",l);let c={};if(s.type==="mark"&&s.config.exitable&&(c.ArrowRight=()=>Us.handleExit({editor:e,mark:s})),u){const y=Object.fromEntries(Object.entries(u()).map(([k,m])=>[k,()=>m({editor:e})]));c={...c,...y}}const f=Bv(c);a.push(f);const d=D(s,"addInputRules",l);ah(s,e.options.enableInputRules)&&d&&r.push(...d());const h=D(s,"addPasteRules",l);ah(s,e.options.enablePasteRules)&&h&&i.push(...h());const p=D(s,"addProseMirrorPlugins",l);if(p){const y=p();a.push(...y)}return a}).flat();return[yw({editor:e,rules:r}),...ww({editor:e,rules:i}),...o]}get attributes(){return sy(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=gl(this.extensions);return Object.fromEntries(n.filter(r=>!!D(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:de(r.name,this.schema)},s=D(r,"addNodeView",o);if(!s)return[];const l=(a,u,c,f)=>{const d=Pu(a,i);return s()({editor:e,node:a,getPos:c,decorations:f,HTMLAttributes:d,extension:r})};return[r.name,l]}))}}function Cw(t){return Object.prototype.toString.call(t).slice(8,-1)}function ha(t){return Cw(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function yl(t,e){const n={...t};return ha(t)&&ha(e)&&Object.keys(e).forEach(r=>{ha(e[r])?r in t?n[r]=yl(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class gt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=B(D(this,"addOptions",{name:this.name}))),this.storage=B(D(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gt(e)}configure(e={}){const n=this.extend();return n.options=yl(this.options,e),n.storage=B(D(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new gt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=B(D(n,"addOptions",{name:n.name})),n.storage=B(D(n,"addStorage",{name:n.name,options:n.options})),n}}function ay(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=\`

\`,textSerializers:s={}}=n||{};let l="",a=!0;return t.nodesBetween(r,i,(u,c,f,d)=>{var h;const p=s==null?void 0:s[u.type.name];p?(u.isBlock&&!a&&(l+=o,a=!0),f&&(l+=p({node:u,pos:c,parent:f,index:d,range:e}))):u.isText?(l+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c),a=!1):u.isBlock&&!a&&(l+=o,a=!0)}),l}function uy(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Ew=gt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Ut({key:new Gr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.\$from.pos)),l=Math.max(...o.map(c=>c.\$to.pos)),a=uy(n);return ay(r,{from:s,to:l},{textSerializers:a})}}})]}}),Mw=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Nw=(t=!1)=>({commands:e})=>e.setContent("",t),Tw=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({\$from:o,\$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(a)),d=u.resolve(c.map(a+l.nodeSize)),h=f.blockRange(d);if(!h)return;const p=Qr(h);if(l.type.isTextblock){const{defaultType:y}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,y)}(p||p===0)&&e.lift(h,p)})}),!0},Ow=t=>e=>t(e),Dw=()=>({state:t,dispatch:e})=>Xv(t,e),Rw=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new V(r.doc.resolve(s-1))),!0},Pw=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.\$anchor.node();if(r.content.size>0)return!1;const i=t.selection.\$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),a=i.after(o);t.delete(l,a).scrollIntoView()}return!0}return!1},Iw=t=>({tr:e,state:n,dispatch:r})=>{const i=de(t,n.schema),o=e.selection.\$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},Aw=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},zw=()=>({state:t,dispatch:e})=>Vv(t,e),bw=()=>({commands:t})=>t.keyboardShortcut("Enter"),Fw=()=>({state:t,dispatch:e})=>Yv(t,e);function js(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Kc(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Iu(t,e,n={}){return t.find(r=>r.type===e&&js(r.attrs,n))}function Lw(t,e,n={}){return!!Iu(t,e,n)}function cy(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Iu([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,a=s+r.node.nodeSize;for(Iu([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&Lw([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function wn(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(\`There is no mark type named '\${t}'. Maybe you forgot to add the extension?\`);return e.marks[t]}return t}const Bw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=wn(t,r.schema),{doc:s,selection:l}=n,{\$from:a,from:u,to:c}=l;if(i){const f=cy(a,o,e);if(f&&f.from<=u&&f.to>=c){const d=V.create(s,f.from,f.to);n.setSelection(d)}}return!0},\$w=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function fy(t){return t instanceof V}function zn(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function dy(t,e=null){if(!e)return null;const n=F.atStart(t),r=F.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?V.create(t,zn(0,i,o),zn(t.content.size,i,o)):V.create(t,zn(e,i,o),zn(e,i,o))}function qc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Vw=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{qc()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!fy(n.state.selection))return s(),!0;const l=dy(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},_w=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),jw=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Au=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&!/\S/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Au(r)}return t};function uh(t){const e=\`<body>\${t}</body>\`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Au(n),Au(n)}function Ws(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?M.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Ws("",e,n)}if(typeof t=="string"){const r=jr.fromSchema(e);return n.slice?r.parseSlice(uh(t),n.parseOptions).content:r.parse(uh(t),n.parseOptions)}return Ws("",e,n)}function Ww(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Mt||i instanceof We))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(F.near(t.doc.resolve(s),n))}const Uw=t=>t.toString().startsWith("<"),Jw=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=Ws(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,c=!0;if((Uw(s)?s:[s]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),l===a&&c){const{parent:d}=r.doc.resolve(l);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?r.insertText(e.map(d=>d.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,a):r.insertText(e,l,a):r.replaceWith(l,a,s),n.updateSelection&&Ww(r,r.steps.length-1,-1)}return!0},Hw=()=>({state:t,dispatch:e})=>Kv(t,e),Kw=()=>({state:t,dispatch:e})=>qv(t,e),qw=()=>({state:t,dispatch:e})=>jv(t,e),Qw=()=>({state:t,dispatch:e})=>Jv(t,e),Gw=()=>({tr:t,state:e,dispatch:n})=>{try{const r=cl(e.doc,e.selection.\$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},Yw=()=>({state:t,dispatch:e,tr:n})=>{try{const r=cl(t.doc,t.selection.\$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}};function hy(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Xw(t){const e=t.split(/-(?!\$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)\$/i.test(a))s=!0;else if(/^a(lt)?\$/i.test(a))r=!0;else if(/^(c|ctrl|control)\$/i.test(a))i=!0;else if(/^s(hift)?\$/i.test(a))o=!0;else if(/^mod\$/i.test(a))qc()||hy()?s=!0:i=!0;else throw new Error(\`Unrecognized modifier name: \${a}\`)}return r&&(n=\`Alt-\${n}\`),i&&(n=\`Ctrl-\${n}\`),s&&(n=\`Meta-\${n}\`),o&&(n=\`Shift-\${n}\`),n}const Zw=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=Xw(t).split(/-(?!\$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function io(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?de(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const h=Math.max(r,d),p=Math.min(i,d+f.nodeSize);l.push({node:f,from:h,to:p})});const a=i-r,u=l.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>js(f.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=a}const ex=(t,e={})=>({state:n,dispatch:r})=>{const i=de(t,n.schema);return io(n,i,e)?Qv(n,r):!1},tx=()=>({state:t,dispatch:e})=>Zv(t,e),nx=t=>({state:e,dispatch:n})=>{const r=de(t,e.schema);return lw(r)(e,n)},rx=()=>({state:t,dispatch:e})=>Gv(t,e);function Sl(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function ch(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const ix=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Sl(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=de(t,r.schema)),l==="mark"&&(s=wn(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.\$from.pos,a.\$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,ch(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&n.addMark(c,c+u.nodeSize,s.create(ch(f.attrs,e)))})})}),!0):!1},ox=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),sx=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),lx=()=>({state:t,dispatch:e})=>Wv(t,e),ax=()=>({state:t,dispatch:e})=>Hv(t,e),ux=()=>({state:t,dispatch:e})=>ew(t,e),cx=()=>({state:t,dispatch:e})=>rw(t,e),fx=()=>({state:t,dispatch:e})=>nw(t,e);function py(t,e,n={}){return Ws(t,e,{slice:!1,parseOptions:n})}const dx=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=py(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function my(t,e){const n=wn(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.\$head.marks())):t.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function hx(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function px(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Qc(t){return e=>px(e.\$from,t)}function mx(t,e){const n=wt.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function gx(t,e){const n={from:0,to:t.content.size};return ay(t,n,e)}function yx(t,e){const n=de(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function Sx(t,e){const n=Sl(typeof e=="string"?e:e.name,t.schema);return n==="node"?yx(t,e):n==="mark"?my(t,e):{}}function rs(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function zu(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?wn(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.\$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>js(f.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({\$from:f,\$to:d})=>{const h=f.pos,p=d.pos;t.doc.nodesBetween(h,p,(y,k)=>{if(!y.isText&&!y.marks.length)return;const m=Math.max(h,k),g=Math.min(p,k+y.nodeSize),S=g-m;s+=S,l.push(...y.marks.map(v=>({mark:v,from:m,to:g})))})}),s===0)return!1;const a=l.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>js(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=l.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(a>0?a+u:a)>=s}function kx(t,e,n={}){if(!e)return io(t,null,n)||zu(t,null,n);const r=Sl(e,t.schema);return r==="node"?io(t,e,n):r==="mark"?zu(t,e,n):!1}function fh(t,e){const{nodeExtensions:n}=gl(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=B(D(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function vx(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function wx(t,e,n){var r;const{selection:i}=e;let o=null;if(fy(i)&&(o=i.\$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=i;return s.some(({\$from:l,\$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){const h=!d||d.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(y=>y.type.excludes(n));u=h&&p}return!u}),u})}const xx=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=wn(t,r.schema);if(i)if(s){const u=my(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.\$from.pos,f=u.\$to.pos;r.doc.nodesBetween(c,f,(d,h)=>{const p=Math.max(h,c),y=Math.min(h+d.nodeSize,f);d.marks.find(m=>m.type===a)?d.marks.forEach(m=>{a===m.type&&n.addMark(p,y,a.create({...m.attrs,...e}))}):n.addMark(p,y,a.create(e))})});return wx(r,n,a)},Cx=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Ex=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=de(t,n.schema);return o.isTextblock?i().command(({commands:s})=>oh(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>oh(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Mx=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=zn(t,0,r.content.size),o=A.create(r,i);e.setSelection(o)}return!0},Nx=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=V.atStart(r).from,l=V.atEnd(r).to,a=zn(i,s,l),u=zn(o,s,l),c=V.create(r,a,u);e.setSelection(c)}return!0},Tx=t=>({state:e,dispatch:n})=>{const r=de(t,e.schema);return cw(r)(e,n)};function dh(t,e){const n=t.storedMarks||t.selection.\$to.parentOffset&&t.selection.\$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const Ox=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{\$from:l,\$to:a}=o,u=i.extensionManager.attributes,c=rs(u,l.node().type.name,l.node().attrs);if(o instanceof A&&o.node.isBlock)return!l.parentOffset||!Ir(s,l.pos)?!1:(r&&(t&&dh(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const f=a.parentOffset===a.parent.content.size;o instanceof V&&e.deleteSelection();const d=l.depth===0?void 0:hx(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&d?[{type:d,attrs:c}]:void 0,p=Ir(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&Ir(e.doc,e.mapping.map(l.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:c}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,h),d&&!f&&!l.parentOffset&&l.parent.type!==d)){const y=e.mapping.map(l.before()),k=e.doc.resolve(y);l.node(-1).canReplaceWith(k.index(),k.index()+1,d)&&e.setNodeMarkup(e.mapping.map(l.before()),d)}t&&dh(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},Dx=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=de(t,n.schema),{\$from:l,\$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==s)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let k=M.empty;const m=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-m;E>=l.depth-3;E-=1)k=M.from(l.node(E).copy(k));const g=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S=rs(f,l.node().type.name,l.node().attrs),v=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;k=k.append(M.from(s.createAndFill(null,v)||void 0));const x=l.before(l.depth-(m-1));e.replace(x,l.after(-g),new R(k,4-m,0));let w=-1;e.doc.nodesBetween(x,e.doc.content.size,(E,N)=>{if(w>-1)return!1;E.isTextblock&&E.content.size===0&&(w=N+1)}),w>-1&&e.setSelection(V.near(e.doc.resolve(w))),e.scrollIntoView()}return!0}const d=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,h=rs(f,c.type.name,c.attrs),p=rs(f,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const y=d?[{type:s,attrs:h},{type:d,attrs:p}]:[{type:s,attrs:h}];if(!Ir(e.doc,l.pos,2))return!1;if(r){const{selection:k,storedMarks:m}=n,{splittableMarks:g}=i.extensionManager,S=m||k.\$to.parentOffset&&k.\$from.marks();if(e.split(l.pos,2,y).scrollIntoView(),!S||!r)return!0;const v=S.filter(x=>g.includes(x.type.name));e.ensureMarks(v)}return!0},pa=(t,e)=>{const n=Qc(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&rr(t.doc,n.pos)&&t.join(n.pos),!0},ma=(t,e)=>{const n=Qc(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&rr(t.doc,r)&&t.join(r),!0},Rx=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=de(t,s.schema),p=de(e,s.schema),{selection:y,storedMarks:k}=s,{\$from:m,\$to:g}=y,S=m.blockRange(g),v=k||y.\$to.parentOffset&&y.\$from.marks();if(!S)return!1;const x=Qc(w=>fh(w.type.name,f))(y);if(S.depth>=1&&x&&S.depth-x.depth<=1){if(x.node.type===h)return u.liftListItem(p);if(fh(x.node.type.name,f)&&h.validContent(x.node.content)&&l)return a().command(()=>(o.setNodeMarkup(x.pos,h),!0)).command(()=>pa(o,h)).command(()=>ma(o,h)).run()}return!n||!v||!l?a().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>pa(o,h)).command(()=>ma(o,h)).run():a().command(()=>{const w=c().wrapInList(h,r),E=v.filter(N=>d.includes(N.type.name));return o.ensureMarks(E),w?!0:u.clearNodes()}).wrapInList(h,r).command(()=>pa(o,h)).command(()=>ma(o,h)).run()},Px=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=wn(t,r.schema);return zu(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},Ix=(t,e,n={})=>({state:r,commands:i})=>{const o=de(t,r.schema),s=de(e,r.schema);return io(r,o,n)?i.setNode(s):i.setNode(o,n)},Ax=(t,e={})=>({state:n,commands:r})=>{const i=de(t,n.schema);return io(n,i,e)?r.lift(i):r.wrapIn(i,e)},zx=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},bx=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.\$from.pos,o.\$to.pos)}),!0},Fx=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=wn(t,r.schema),{\$from:u,empty:c,ranges:f}=l;if(!i)return!0;if(c&&s){let{from:d,to:h}=l;const p=(o=u.marks().find(k=>k.type===a))===null||o===void 0?void 0:o.attrs,y=cy(u,a,p);y&&(d=y.from,h=y.to),n.removeMark(d,h,a)}else f.forEach(d=>{n.removeMark(d.\$from.pos,d.\$to.pos,a)});return n.removeStoredMark(a),!0},Lx=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Sl(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=de(t,r.schema)),l==="mark"&&(s=wn(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.\$from.pos,c=a.\$to.pos;r.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(h=>{if(s===h.type){const p=Math.max(d,u),y=Math.min(d+f.nodeSize,c);n.addMark(p,y,s.create({...h.attrs,...e}))}})})}),!0):!1},Bx=(t,e={})=>({state:n,dispatch:r})=>{const i=de(t,n.schema);return iw(i,e)(n,r)},\$x=(t,e={})=>({state:n,dispatch:r})=>{const i=de(t,n.schema);return ow(i,e)(n,r)};var Vx=Object.freeze({__proto__:null,blur:Mw,clearContent:Nw,clearNodes:Tw,command:Ow,createParagraphNear:Dw,cut:Rw,deleteCurrentNode:Pw,deleteNode:Iw,deleteRange:Aw,deleteSelection:zw,enter:bw,exitCode:Fw,extendMarkRange:Bw,first:\$w,focus:Vw,forEach:_w,insertContent:jw,insertContentAt:Jw,joinUp:Hw,joinDown:Kw,joinBackward:qw,joinForward:Qw,joinItemBackward:Gw,joinItemForward:Yw,keyboardShortcut:Zw,lift:ex,liftEmptyBlock:tx,liftListItem:nx,newlineInCode:rx,resetAttributes:ix,scrollIntoView:ox,selectAll:sx,selectNodeBackward:lx,selectNodeForward:ax,selectParentNode:ux,selectTextblockEnd:cx,selectTextblockStart:fx,setContent:dx,setMark:xx,setMeta:Cx,setNode:Ex,setNodeSelection:Mx,setTextSelection:Nx,sinkListItem:Tx,splitBlock:Ox,splitListItem:Dx,toggleList:Rx,toggleMark:Px,toggleNode:Ix,toggleWrap:Ax,undoInputRule:zx,unsetAllMarks:bx,unsetMark:Fx,updateAttributes:Lx,wrapIn:Bx,wrapInList:\$x});const _x=gt.create({name:"commands",addCommands(){return{...Vx}}}),jx=gt.create({name:"editable",addProseMirrorPlugins(){return[new Ut({key:new Gr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Wx=gt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ut({key:new Gr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Ux=gt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,\$anchor:f}=a,{pos:d,parent:h}=f,p=f.parent.isTextblock?l.doc.resolve(d-1):f,y=p.parent.type.spec.isolating,k=f.pos-f.parentOffset,m=y&&p.parent.childCount===1?k===f.pos:F.atStart(u).from===d;return!c||!m||!h.type.isTextblock||h.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qc()||hy()?o:i},addProseMirrorPlugins(){return[new Ut({key:new Gr("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=F.atStart(e.doc).from,a=F.atEnd(e.doc).to;if(i||!(o===l&&s===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const f=n.tr,d=pl({state:n,transaction:f}),{commands:h}=new ml({editor:this.editor,state:d});if(h.clearNodes(),!!f.steps.length)return f}})]}}),Jx=gt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ut({key:new Gr("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Hx=Object.freeze({__proto__:null,ClipboardTextSerializer:Ew,Commands:_x,Editable:jx,FocusEvents:Wx,Keymap:Ux,Tabindex:Jx});const Kx=\`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}\`;function qx(t,e,n){const r=document.querySelector(\`style[data-tiptap-style\${n?\`-\${n}\`:""}]\`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(\`data-tiptap-style\${n?\`-\${n}\`:""}\`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let Qx=class extends fw{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=qx(Kx,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=ly(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?\`\${e}\$\`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(Hx):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Mr(n,this)}createCommandManager(){this.commandManager=new ml({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=py(this.options.content,this.schema,this.options.parseOptions),n=dy(e,this.options.autofocus);this.view=new Dv(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Er.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=\`tiptap \${this.view.dom.className}\`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Sx(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return kx(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return mx(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=\`

\`,textSerializers:r={}}=e||{};return gx(this.state.doc,{blockSeparator:n,textSerializers:{...uy(this.schema),...r}})}get isEmpty(){return vx(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};class Us{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=B(D(this,"addOptions",{name:this.name}))),this.storage=B(D(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Us(e)}configure(e={}){const n=this.extend();return n.options=yl(this.options,e),n.storage=B(D(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Us(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=B(D(n,"addOptions",{name:n.name})),n.storage=B(D(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.\$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=s.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class jt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=B(D(this,"addOptions",{name:this.name}))),this.storage=B(D(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jt(e)}configure(e={}){const n=this.extend();return n.options=yl(this.options,e),n.storage=B(D(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new jt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=B(D(n,"addOptions",{name:n.name})),n.storage=B(D(n,"addStorage",{name:n.name,options:n.options})),n}}function gy(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=gy(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function yy(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=yy(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class q{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new q(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new q(r,i)}cutByIndex(e,n){return e==n?q.empty:e==0&&n==this.content.length?this:new q(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new q(i,o)}addToStart(e){return new q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return gy(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return yy(this,e,n,r)}findIndex(e,n=-1){if(e==0)return \$o(0,e);if(e==this.size)return \$o(this.content.length,e);if(e>this.size||e<0)throw new RangeError(\`Position \${e} outside of fragment (\${this})\`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?\$o(r+1,s):\$o(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return q.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new q(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return q.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new q(n||e,r)}static from(e){if(!e)return q.empty;if(e instanceof q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}q.empty=new q([],0);const ga={index:0,offset:0};function \$o(t,e){return ga.index=t,ga.offset=e,ga}class Gx extends Error{}class J{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=ky(this.content,e+this.openStart,n);return r&&new J(r,this.openStart,this.openEnd)}removeBetween(e,n){return new J(Sy(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return J.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(q.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new J(e,r,i)}}J.empty=new J(q.empty,0,0);function Sy(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Sy(o.content,e-i-1,n-i-1)))}function ky(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=ky(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}const vy=65535,wy=Math.pow(2,16);function Yx(t,e){return t+e*wy}function hh(t){return t&vy}function Xx(t){return(t-(t&vy))/wy}const xy=1,Cy=2,is=4,Ey=8;class ph{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Ey)>0}get deletedBefore(){return(this.delInfo&(xy|is))>0}get deletedAfter(){return(this.delInfo&(Cy|is))>0}get deletedAcross(){return(this.delInfo&is)>0}}class Je{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Je.empty)return Je.empty}recover(e){let n=0,r=hh(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Xx(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,h=a+i+(d<0?0:c);if(r)return h;let p=e==(n<0?a:f)?null:Yx(l/3,e-a),y=e==a?Cy:e==f?xy:is;return(n<0?e!=a:e!=f)&&(y|=Ey),new ph(h,y,p)}i+=c-u}return r?e+i:new ph(e+i,0,null)}touches(e,n){let r=0,i=hh(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new Je(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Je.empty:new Je(e<0?[0,-e,0]:[0,0,e])}}Je.empty=new Je([]);const ya=Object.create(null);class Ne{getMap(){return Je.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ya[n.stepType];if(!r)throw new RangeError(\`No step type \${n.stepType} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ya)throw new RangeError("Duplicate use of step JSON ID "+e);return ya[e]=n,n.prototype.jsonID=e,n}}class oe{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new oe(e,null)}static fail(e){return new oe(null,e)}static fromReplace(e,n,r,i){try{return oe.ok(e.replace(n,r,i))}catch(o){if(o instanceof Gx)return oe.fail(o.message);throw o}}}function Gc(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Gc(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return q.fromArray(r)}class bn extends Ne{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new J(Gc(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return oe.fromReplace(e,this.from,this.to,o)}invert(){return new Fn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new bn(n.pos,r.pos,this.mark)}merge(e){return e instanceof bn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new bn(n.from,n.to,e.markFromJSON(n.mark))}}Ne.jsonID("addMark",bn);class Fn extends Ne{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new J(Gc(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return oe.fromReplace(e,this.from,this.to,r)}invert(){return new bn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Fn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fn(n.from,n.to,e.markFromJSON(n.mark))}}Ne.jsonID("removeMark",Fn);class Ln extends Ne{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return oe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return oe.fromReplace(e,this.pos,this.pos+1,new J(q.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ln(this.pos,n.marks[i]);return new Ln(this.pos,this.mark)}}return new oo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ln(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ln(n.pos,e.markFromJSON(n.mark))}}Ne.jsonID("addNodeMark",Ln);class oo extends Ne{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return oe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return oe.fromReplace(e,this.pos,this.pos+1,new J(q.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ln(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new oo(n.pos,e.markFromJSON(n.mark))}}Ne.jsonID("removeNodeMark",oo);class It extends Ne{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&bu(e,this.from,this.to)?oe.fail("Structure replace would overwrite content"):oe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Je([this.from,this.to-this.from,this.slice.size])}invert(e){return new It(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new It(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof It)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new It(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new It(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new It(n.from,n.to,J.fromJSON(e,n.slice),!!n.structure)}}Ne.jsonID("replace",It);class zr extends Ne{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(bu(e,this.from,this.gapFrom)||bu(e,this.gapTo,this.to)))return oe.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return oe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?oe.fromReplace(e,this.from,this.to,r):oe.fail("Content does not fit in gap")}getMap(){return new Je([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new zr(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zr(n.from,n.to,n.gapFrom,n.gapTo,J.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ne.jsonID("replaceAround",zr);function bu(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}class bi extends Ne{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return oe.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return oe.fromReplace(e,this.pos,this.pos+1,new J(q.from(i),0,n.isLeaf?0:1))}getMap(){return Je.empty}invert(e){return new bi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new bi(n.pos,n.attr,n.value)}}Ne.jsonID("attr",bi);class Js extends Ne{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return oe.ok(r)}getMap(){return Je.empty}invert(e){return new Js(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Js(n.attr,n.value)}}Ne.jsonID("docAttr",Js);let so=class extends Error{};so=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};so.prototype=Object.create(Error.prototype);so.prototype.constructor=so;so.prototype.name="TransformError";const Sa=Object.create(null);class ce{constructor(e,n,r){this.\$anchor=e,this.\$head=n,this.ranges=r||[new Zx(e.min(n),e.max(n))]}get anchor(){return this.\$anchor.pos}get head(){return this.\$head.pos}get from(){return this.\$from.pos}get to(){return this.\$to.pos}get \$from(){return this.ranges[0].\$from}get \$to(){return this.ranges[0].\$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].\$from.pos!=e[n].\$to.pos)return!1;return!0}content(){return this.\$from.doc.slice(this.from,this.to,!0)}replace(e,n=J.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{\$from:a,\$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?J.empty:n),l==0&&yh(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{\$from:s,\$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),yh(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new xt(e):fr(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?fr(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):fr(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Lt(e.node(0))}static atStart(e){return fr(e,e,0,0,1)||new Lt(e)}static atEnd(e){return fr(e,e,e.content.size,e.childCount,-1)||new Lt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Sa[n.type];if(!r)throw new RangeError(\`No selection type \${n.type} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sa)throw new RangeError("Duplicate use of selection JSON ID "+e);return Sa[e]=n,n.prototype.jsonID=e,n}getBookmark(){return xt.between(this.\$anchor,this.\$head).getBookmark()}}ce.prototype.visible=!0;class Zx{constructor(e,n){this.\$from=e,this.\$to=n}}let mh=!1;function gh(t){!mh&&!t.parent.inlineContent&&(mh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class xt extends ce{constructor(e,n=e){gh(e),gh(n),super(e,n)}get \$cursor(){return this.\$anchor.pos==this.\$head.pos?this.\$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ce.near(r);let i=e.resolve(n.map(this.anchor));return new xt(i.parent.inlineContent?i:r,r)}replace(e,n=J.empty){if(super.replace(e,n),n==J.empty){let r=this.\$from.marksAcross(this.\$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof xt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new kl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ce.findFrom(n,r,!0)||ce.findFrom(n,-r,!0);if(o)n=o.\$head;else return ce.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ce.findFrom(e,-r,!0)||ce.findFrom(e,r,!0)).\$anchor,e.pos<n.pos!=i<0&&(e=n))),new xt(e,n)}}ce.jsonID("text",xt);class kl{constructor(e,n){this.anchor=e,this.head=n}map(e){return new kl(e.map(this.anchor),e.map(this.head))}resolve(e){return xt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ft extends ce{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ce.near(o):new ft(o)}content(){return new J(q.from(this.node),0,0)}eq(e){return e instanceof ft&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Yc(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ft(e.resolve(n.anchor))}static create(e,n){return new ft(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ft.prototype.visible=!1;ce.jsonID("node",ft);class Yc{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new kl(r,r):new Yc(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ft.isSelectable(r)?new ft(n):ce.near(n)}}class Lt extends ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=J.empty){if(n==J.empty){e.delete(0,e.doc.content.size);let r=ce.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Lt(e)}map(e){return new Lt(e)}eq(e){return e instanceof Lt}getBookmark(){return eC}}ce.jsonID("all",Lt);const eC={map(){return this},resolve(t){return new Lt(t)}};function fr(t,e,n,r,i,o=!1){if(e.inlineContent)return xt.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&ft.isSelectable(l))return ft.create(t,n-(i<0?l.nodeSize:0))}else{let a=fr(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function yh(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof It||i instanceof zr))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(ce.near(t.doc.resolve(s),n))}function Sh(t,e){return!e||!t?t:t.bind(e)}class Vo{constructor(e,n,r){this.name=e,this.init=Sh(n.init,r),this.apply=Sh(n.apply,r)}}new Vo("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Vo("selection",{init(t,e){return t.selection||ce.atStart(e.doc)},apply(t){return t.selection}}),new Vo("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.\$cursor?t.storedMarks:null}}),new Vo("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function My(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=My(i,e,{})),n[r]=i}return n}class tC{constructor(e){this.spec=e,this.props={},e.props&&My(e.props,this,this.props),this.key=e.key?e.key.key:Ny("plugin")}getState(e){return e[this.key]}}const ka=Object.create(null);function Ny(t){return t in ka?t+"\$"+ ++ka[t]:(ka[t]=0,t+"\$")}class nC{constructor(e="key"){this.key=Ny(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rC=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},iC=({renderers:t})=>W.createElement(W.Fragment,null,Object.entries(t).map(([e,n])=>Vm.createPortal(n.reactElement,n.element,e)));let oC=class extends W.Component{constructor(e){super(e),this.editorContentRef=W.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?al.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return W.createElement(W.Fragment,null,W.createElement("div",{ref:rC(n,this.editorContentRef),...r}),W.createElement(iC,{renderers:this.state.renderers}))}};const sC=Q.forwardRef((t,e)=>{const n=W.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return W.createElement(oC,{key:n,innerRef:e,...t})}),lC=W.memo(sC),aC=Q.createContext({editor:null});aC.Consumer;const uC=Q.createContext({onDragStart:void 0}),cC=()=>Q.useContext(uC);W.forwardRef((t,e)=>{const{onDragStart:n}=cC(),r=t.as||"div";return W.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function fC(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ty=fC,dC=typeof So=="object"&&So&&So.Object===Object&&So,hC=dC,pC=hC,mC=typeof self=="object"&&self&&self.Object===Object&&self,gC=pC||mC||Function("return this")(),Oy=gC,yC=Oy,SC=function(){return yC.Date.now()},kC=SC,vC=/\s/;function wC(t){for(var e=t.length;e--&&vC.test(t.charAt(e)););return e}var xC=wC,CC=xC,EC=/^\s+/;function MC(t){return t&&t.slice(0,CC(t)+1).replace(EC,"")}var NC=MC,TC=Oy,OC=TC.Symbol,Dy=OC,kh=Dy,Ry=Object.prototype,DC=Ry.hasOwnProperty,RC=Ry.toString,li=kh?kh.toStringTag:void 0;function PC(t){var e=DC.call(t,li),n=t[li];try{t[li]=void 0;var r=!0}catch{}var i=RC.call(t);return r&&(e?t[li]=n:delete t[li]),i}var IC=PC,AC=Object.prototype,zC=AC.toString;function bC(t){return zC.call(t)}var FC=bC,vh=Dy,LC=IC,BC=FC,\$C="[object Null]",VC="[object Undefined]",wh=vh?vh.toStringTag:void 0;function _C(t){return t==null?t===void 0?VC:\$C:wh&&wh in Object(t)?LC(t):BC(t)}var jC=_C;function WC(t){return t!=null&&typeof t=="object"}var UC=WC,JC=jC,HC=UC,KC="[object Symbol]";function qC(t){return typeof t=="symbol"||HC(t)&&JC(t)==KC}var QC=qC,GC=NC,xh=Ty,YC=QC,Ch=NaN,XC=/^[-+]0x[0-9a-f]+\$/i,ZC=/^0b[01]+\$/i,eE=/^0o[0-7]+\$/i,tE=parseInt;function nE(t){if(typeof t=="number")return t;if(YC(t))return Ch;if(xh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=GC(t);var n=ZC.test(t);return n||eE.test(t)?tE(t.slice(2),n?2:8):XC.test(t)?Ch:+t}var rE=nE,iE=Ty,va=kC,Eh=rE,oE="Expected a function",sE=Math.max,lE=Math.min;function aE(t,e,n){var r,i,o,s,l,a,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(oE);e=Eh(e)||0,iE(n)&&(c=!!n.leading,f="maxWait"in n,o=f?sE(Eh(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(w){var E=r,N=i;return r=i=void 0,u=w,s=t.apply(N,E),s}function p(w){return u=w,l=setTimeout(m,e),c?h(w):s}function y(w){var E=w-a,N=w-u,P=e-E;return f?lE(P,o-N):P}function k(w){var E=w-a,N=w-u;return a===void 0||E>=e||E<0||f&&N>=o}function m(){var w=va();if(k(w))return g(w);l=setTimeout(m,y(w))}function g(w){return l=void 0,d&&r?h(w):(r=i=void 0,s)}function S(){l!==void 0&&clearTimeout(l),u=0,r=a=i=l=void 0}function v(){return l===void 0?s:g(va())}function x(){var w=va(),E=k(w);if(r=arguments,i=this,a=w,E){if(l===void 0)return p(a);if(f)return clearTimeout(l),l=setTimeout(m,e),h(a)}return l===void 0&&(l=setTimeout(m,e)),s}return x.cancel=S,x.flush=v,x}var uE=aE;const cE=Lu(uE),fE=({renderers:t})=>W.createElement(W.Fragment,null,Object.entries(t).map(([e,n])=>Vm.createPortal(n.reactElement,n.element,e)));class dE extends W.Component{constructor(e){super(e),this.editorContentRef=W.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?al.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return W.createElement(W.Fragment,null,W.createElement("div",{ref:this.editorContentRef,...n}),W.createElement(fE,{renderers:this.state.renderers}))}}const hE=t=>{const e=W.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return W.createElement(dE,{key:e,...t})};W.memo(hE);class pE extends Qx{constructor(){super(...arguments),this.contentComponent=null}}function mE(){const[,t]=Q.useState(0);return()=>t(e=>e+1)}const gE=(t={},e=[])=>{const[n,r]=Q.useState(null),i=mE(),{onBeforeCreate:o,onBlur:s,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:c,onTransaction:f,onUpdate:d}=t,h=Q.useRef(o),p=Q.useRef(s),y=Q.useRef(l),k=Q.useRef(a),m=Q.useRef(u),g=Q.useRef(c),S=Q.useRef(f),v=Q.useRef(d);return Q.useEffect(()=>{n&&(o&&(n.off("beforeCreate",h.current),n.on("beforeCreate",o),h.current=o),s&&(n.off("blur",p.current),n.on("blur",s),p.current=s),l&&(n.off("create",y.current),n.on("create",l),y.current=l),a&&(n.off("destroy",k.current),n.on("destroy",a),k.current=a),u&&(n.off("focus",m.current),n.on("focus",u),m.current=u),c&&(n.off("selectionUpdate",g.current),n.on("selectionUpdate",c),g.current=c),f&&(n.off("transaction",S.current),n.on("transaction",f),S.current=f),d&&(n.off("update",v.current),n.on("update",d),v.current=d))},[o,s,l,a,u,c,f,d,n]),Q.useEffect(()=>{let x=!0;const w=new pE(t);return r(w),w.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{x&&i()})})}),()=>{x=!1}},e),Q.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},yE=Q.createContext({editor:null});yE.Consumer;const SE=Q.createContext({onDragStart:void 0}),kE=()=>Q.useContext(SE);W.forwardRef((t,e)=>{const{onDragStart:n}=kE(),r=t.as||"div";return W.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});var Py=(t=>(t.Action="action",t))(Py||{});class Iy{constructor({forceName:e,tiptapExtension:n,tiptapExtensionDeps:r,onBridgeMessage:i,onEditorMessage:o,extendEditorState:s,extendEditorInstance:l,extendCSS:a}){n?this.name=Array.isArray(n)?n.map(u=>u.name).join("+"):n.name:this.name=e||"BridgeExtension",this.tiptapExtension=n,this.tiptapExtensionDeps=r,this.onBridgeMessage=i,this.onEditorMessage=o,this.extendEditorState=s,this.extendEditorInstance=l,this.extendCSS=a}configureExtension(e){return this.config=e,this}configureCSS(e){return this.extendCSS=e,this}configureTiptapExtensionsOnRunTime(e){var n;return this.tiptapExtension=(n=this.tiptapExtension)==null?void 0:n.configure(e),[this.tiptapExtension,...this.tiptapExtensionDeps||[]]}}class vE{constructor(){Zc(this,"subscriptions",{});this.subscriptions={}}onMessage(e,n){this.subscriptions[e]&&this.subscriptions[e].forEach(r=>{r(n)})}addListener(e,n){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(n)}sendAsyncMessage(e,n){const r=Math.random().toString(36).substring(7);return e.payload=e.payload||{},e.payload.messageId=r,new Promise(i=>{this.addListener(r,i),n(e)})}}const Mh=new vE;class wE{constructor(){this.focus=!1,window.document.addEventListener("focus",()=>{this.focus=!0},!0),window.document.addEventListener("blur",()=>{this.focus=!1},!0)}get isFocused(){return this.focus}}const xE=new wE,CE=jt.create({name:"doc",topNode:!0,content:"block+"}),EE=jt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Hc(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ME=jt.create({name:"text",group:"inline"});var Fu=(t=>(t.SetSelection="set-selection",t.GetContent="get-content",t.SetContent="set-content",t.SendContentToNative="send-content-back",t.StateUpdate="stateUpdate",t.Focus="Focus",t.EditorReady="editor-ready",t.UpdateScrollThresholdAndMargin="update-scroll-threshold-and-margin",t))(Fu||{});const NE=new Iy({forceName:"coreBridge",tiptapExtensionDeps:[CE,EE,ME],onBridgeMessage:(t,e,n)=>e.type==="set-content"?(t.commands.setContent(e.payload.content),!0):(e.type==="get-content"&&n({type:"send-content-back",payload:{content:t.getHTML(),messageId:e.payload.messageId}}),e.type==="set-selection"?(t.commands.setTextSelection({from:e.payload.from,to:e.payload.to}),!0):e.type==="Focus"?(t.commands.focus(e.payload),!0):e.type==="update-scroll-threshold-and-margin"?(t.setOptions({editorProps:{scrollThreshold:{top:0,bottom:e.payload,right:0,left:0},scrollMargin:{top:0,bottom:e.payload,right:0,left:0}}}),!0):!1),onEditorMessage:({type:t,payload:e},n)=>t==="send-content-back"?(Mh.onMessage(e.messageId,e.content),!0):(t==="editor-ready"&&n.autofocus&&n.focus("end"),t==="stateUpdate"&&n._updateEditorState(e),!1),extendEditorInstance:(t,e,n,r)=>({updateScrollThresholdAndMargin:i=>t({type:"update-scroll-threshold-and-margin",payload:i}),setSelection:(i,o)=>{t({type:"set-selection",payload:{from:i,to:o}})},setContent:i=>{t({type:"set-content",payload:{content:i}})},getContent:async()=>await Mh.sendAsyncMessage({type:"get-content"},t),focus:i=>{var o;(o=e==null?void 0:e.current)==null||o.requestFocus(),n&&n.current&&r&&r({...n.current,isFocused:!0}),t({type:"Focus",payload:i})}}),extendEditorState:t=>({isFocused:xE.isFocused,isReady:!0,selection:{from:t.state.selection.from,to:t.state.selection.to}})}),TE=gt.create({name:"eventHandler",addProseMirrorPlugins(){return[new Ut({key:new Gr("blueBackground"),state:{init(){return ne.empty},apply(t,e,n,r){if(t.selection.empty)return ne.empty;{const i=[],{from:o,to:s}=t.selection;return i.push(tt.inline(o,s,{style:"background-color: #e6e6ff;"})),ne.create(r.doc,i)}}},props:{decorations(t){return this.getState(t)}}})]}}),OE=window.initialContent||"",wa=t=>{var e;(e=window.ReactNativeWebView)==null||e.postMessage(JSON.stringify(t))},DE=JSON.parse(window.bridgeExtensionConfigMap||"{}"),RE=t=>{const{tiptapOptions:e={},bridges:n=[]}=t||{};function r(a){return a!=null}const i=n.map(a=>a.configureTiptapExtensionsOnRunTime(DE[a.name])).filter(r).flat(),o={...e,extensions:[TE,...i,...e.extensions||[]]},s=cE(a=>{let u={};const c=n.reduce((f,d)=>d.extendEditorState?Object.assign(f,d.extendEditorState(a)):f,u);wa({type:Fu.StateUpdate,payload:c})},10),l=gE({content:OE,onCreate:()=>wa({type:Fu.EditorReady,payload:void 0}),onUpdate:a=>s(a.editor),onSelectionUpdate:a=>s(a.editor),onTransaction:a=>s(a.editor),...o});return Q.useEffect(()=>{if(!l)return;const a=c=>{n.forEach(f=>{f.onBridgeMessage&&f.onBridgeMessage(l,c,wa)})},u=c=>{if(!(c instanceof MessageEvent))return;const{type:f,payload:d}=JSON.parse(c.data);switch(console.log("Received message from webview",{type:f,payload:d}),f){case Py.Action:a(d);break}};return window.addEventListener("message",u),document.addEventListener("message",u),()=>{window.removeEventListener("message",u),document.removeEventListener("message",u)}},[l,n]),l},PE=jt.create({name:"doc",topNode:!0,content:"block+"}),IE=jt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Hc(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),AE=jt.create({name:"text",group:"inline"}),zE=gt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize"}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return((t==null?void 0:t.mode)||this.options.mode)==="textSize"?e.textBetween(0,e.content.size,void 0," ").length:e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return e.textBetween(0,e.content.size," "," ").split(" ").filter(i=>i!=="").length}},addProseMirrorPlugins(){return[new tC({key:new nC("characterCount"),filterTransaction:(t,e)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const r=this.storage.characters({node:e.doc}),i=this.storage.characters({node:t.doc});if(i<=n||r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r||!t.getMeta("paste"))return!1;const s=t.selection.\$head.pos,l=i-n,a=s-l,u=s;return t.deleteRange(a,u),!(this.storage.characters({node:t.doc})>n)}})]}}),bE=new Iy({tiptapExtension:zE.configure({limit:240}),extendEditorState:t=>({wordCount:t.storage.characterCount.characters(),characterCount:t.storage.characterCount.words()})}),FE=()=>{const t=RE({bridges:[NE,bE],tiptapOptions:{extensions:[PE,IE,AE]}});return Fh.jsx(lC,{editor:t})},LE=document.getElementById("root"),BE=_m(LE);BE.render(Fh.jsx(FE,{}));

</script>
  </head>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    #root > div:nth-of-type(1) {
      overflow: auto;
      height: 100%;
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
    }
    #root div .ProseMirror {
      height: 100%;
      overflow: auto;
    }
    .ProseMirror:focus {
      outline: none;
    }
  </style>
  <body>
    <div id="root"></div>
  </body>
</html>

`.replace(/\\([`$])/g, '\$1')